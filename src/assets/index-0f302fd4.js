import{n as R,b5 as U,a6 as q,ax as D,f as F,aD as L,r,q as V,a3 as j,ag as k,o as h,j as E,F as $,k as w,c as O,w as g,e as A,t as T,b as d,bG as I,aF as H,ai as M,an as Z,bH as P,d as s,Z as G,u as J,aS as K,_ as Q,p as W,i as X}from"./index-08ed677d.js";import{i as B}from"./index-6201b7a4.js";import{C as Y}from"./index-7b650976.js";/* empty css              */import{_ as x}from"./Group-db28a0f9.js";const ee={data:{type:Array,required:!0},color:String,size:String,placeholder:{type:String,default:"New Tag"},inputStyle:Object,unique:{type:Boolean,default:!0},uniqueMessage:{type:String,default:"${value}已经存在"},validator:[Array,Function],beforeRemove:Function},ae=R({name:"EleEditTag",components:{PlusOutlined:U,LoadingOutlined:q,AInput:D,ATooltip:F,EleTag:B},props:ee,emits:["update:data"],setup(e,{emit:f}){const{authenticated:u}=L(),v=r(null),p=r(!1),l=r(""),o=r(""),c=r(!1),b=V(()=>["ele-tag-input",{"ele-tag-input-lg":e.size==="large"},{"ele-tag-input-md":e.size==="middle"},{"ele-tag-input-mini":e.size==="mini"}]),S=()=>{p.value=!0,o.value="",G(()=>{var t;(t=J(v))==null||t.focus()})},y=t=>{var i;if(!u.value){console.warn(K);return}p.value=!1,l.value="",o.value="",c.value=!1,f("update:data",(i=e.data)==null?void 0:i.concat([t]))},n=()=>{var t;if(!l.value){p.value=!1,o.value="";return}if(e.unique&&((t=e.data)!=null&&t.includes(l.value))){o.value=e.uniqueMessage.replace("${value}",l.value);return}c.value=!0,typeof e.validator=="function"?Promise.resolve(e.validator(l.value)).then(i=>{i===!1?(c.value=!1,o.value=""):y(l.value)}).catch(i=>{var a;c.value=!1,o.value=(a=i==null?void 0:i.message)!=null?a:""}):Array.isArray(e.validator)?new RegExp(e.validator[0]).test(l.value)?y(l.value):(c.value=!1,o.value=e.validator[1]||"校验不通过"):y(l.value)},_=t=>{if(!e.beforeRemove){z(t);return}Promise.resolve(e.beforeRemove(t,e.data?e.data[t]:void 0)).then(i=>{i!==!1&&z(t)}).catch(()=>{})},z=t=>{var i,a,m;const N=(m=(i=e.data)==null?void 0:i.slice(0,t))==null?void 0:m.concat((a=e.data)==null?void 0:a.slice(t+1,e.data.length));f("update:data",N)};return j(()=>{o.value=""}),{inputRef:v,edit:p,text:l,message:o,loading:c,inputClass:b,showEdit:S,onEdit:n,onClose:_}}}),le=(e,f)=>{const u=e.__vccOpts||e;for(const[v,p]of f)u[v]=p;return u},te={class:"ele-edit-tag"};function se(e,f,u,v,p,l){const o=k("EleTag"),c=k("LoadingOutlined"),b=k("AInput"),S=k("ATooltip"),y=k("PlusOutlined");return h(),E("div",te,[(h(!0),E($,null,w(e.data,(n,_)=>(h(),O(o,{key:n+"-"+_,size:e.size,color:e.color,closable:!0,onClose:z=>e.onClose(_)},{default:g(()=>[A(T(n),1)]),_:2},1032,["size","color","onClose"]))),128)),d(S,{title:e.message,visible:e.edit&&!!e.message},{default:g(()=>[I(d(b,{ref:"inputRef",class:H(e.inputClass),style:M(e.inputStyle),disabled:e.loading,value:e.text,"onUpdate:value":f[0]||(f[0]=n=>e.text=n),onBlur:e.onEdit,onPressEnter:e.onEdit},{suffix:g(()=>[e.loading?(h(),O(c,{key:0})):Z("",!0)]),_:1},8,["class","style","disabled","value","onBlur","onPressEnter"]),[[P,e.edit]])]),_:1},8,["title","visible"]),I(d(o,{size:e.size,class:"ele-tag-add",onClick:e.showEdit},{default:g(()=>[d(y),s("span",null,T(e.placeholder),1)]),_:1},8,["size","onClick"]),[[P,!e.edit]])])}const oe=le(ae,[["render",se]]);const C=e=>(W("data-v-890957d7"),e=e(),X(),e),ne={class:"ele-body ele-body-card"},ie={class:"ele-cell"},ue=C(()=>s("div",null,"预设颜色:",-1)),de={class:"ele-cell-content"},ce={class:"ele-cell"},re=C(()=>s("div",null,"圆角样式:",-1)),ve={class:"ele-cell-content"},_e={class:"ele-cell"},fe=C(()=>s("div",null,"圆形样式:",-1)),pe={class:"ele-cell-content"},me={class:"ele-cell"},ge=C(()=>s("div",null,"尺寸选择:",-1)),ye={class:"ele-cell-content"},he={class:"ele-cell"},be=C(()=>s("div",null,"主题选择:",-1)),ze={class:"ele-cell-content"},Ee={style:{padding:"8px 0"}},Te=C(()=>s("div",{style:{padding:"8px 0"}},"自定义异步验证:",-1)),Ce={name:"ExtensionTag"},Se=Object.assign(Ce,{setup(e){const f=r([{label:"mini",value:"mini"},{label:"small",value:"small"},{label:"middle",value:"middle"},{label:"large",value:"large"}]),u=r("mini"),v=r([["","blue","green","orange","red"],["#909399","#1890ff","#52c41a","#fa8c16","#f5222d"]]),p=r([{label:"presets",value:0},{label:"custom",value:1}]),l=r(0),o=r(["标签一","标签二","标签三"]),c=["一","二","三","四","五"],b=r(["标签一","标签二","标签三"]),S=y=>new Promise((n,_)=>{setTimeout(()=>{_(new Error(y+"不合法, 请重新输入"))},1e3)});return(y,n)=>{const _=B,z=x,t=Y,i=oe;return h(),E("div",ne,[d(t,{title:"标签组件",bordered:!1},{default:g(()=>[s("div",ie,[ue,s("div",de,[(h(),E($,null,w(c,(a,m)=>d(_,{key:a,size:u.value,color:v.value[l.value][m]},{default:g(()=>[A(" 标签"+T(a),1)]),_:2},1032,["size","color"])),64))])]),s("div",ce,[re,s("div",ve,[(h(),E($,null,w(c,(a,m)=>d(_,{key:a,size:u.value,shape:"round",color:v.value[l.value][m]},{default:g(()=>[A(" 标签"+T(a),1)]),_:2},1032,["size","color"])),64))])]),s("div",_e,[fe,s("div",pe,[(h(),E($,null,w(c,(a,m)=>d(_,{key:a,size:u.value,shape:"circle",color:v.value[l.value][m]},{default:g(()=>[A(T(m+1),1)]),_:2},1032,["size","color"])),64))])]),s("div",me,[ge,s("div",ye,[d(z,{options:f.value,value:u.value,"onUpdate:value":n[0]||(n[0]=a=>u.value=a)},null,8,["options","value"])])]),s("div",he,[be,s("div",ze,[d(z,{options:p.value,value:l.value,"onUpdate:value":n[1]||(n[1]=a=>l.value=a)},null,8,["options","value"])])])]),_:1}),d(t,{title:"标签输入",bordered:!1},{default:g(()=>[d(i,{data:o.value,"onUpdate:data":n[2]||(n[2]=a=>o.value=a),size:u.value,color:v.value[l.value][0]},null,8,["data","size","color"]),s("div",Ee,T(JSON.stringify(o.value)),1),Te,d(i,{data:b.value,"onUpdate:data":n[3]||(n[3]=a=>b.value=a),size:u.value,color:v.value[l.value][0],validator:S},null,8,["data","size","color"])]),_:1})])}}}),Ie=Q(Se,[["__scopeId","data-v-890957d7"]]);export{Ie as default};
