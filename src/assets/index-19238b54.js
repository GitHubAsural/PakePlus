import{n as W,ap as Z,ag as E,o as f,j as U,F as R,k as H,aF as ee,b as n,w as a,d as P,aE as G,an as L,aW as fe,T as he,l as ye,al as ge,ak as be,r as S,E as te,c as T,e as $,t as z,aQ as ne,aR as ae,bE as ke,M as Ie,bD as Te,ax as X,aD as we,az as Y,q as Ce,aJ as Se,aO as $e,aG as le,u as i,aw as oe,ar as se,g as ie,a as De,dq as q,ah as re,Q as J,dr as Q,m as F,h as ue,f as Ae,au as xe,aH as Ee,aq as Me,N as Pe,b5 as Ue,ds as Oe,aU as Le,cx as Ne,ao as Fe}from"./index-08ed677d.js";import{C as de,_ as ce,a as pe}from"./index-7b650976.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index-5362a68f.js";import{i as Re}from"./index-c83262a0.js";import{_ as je}from"./index-47899940.js";import{_ as Be}from"./index-0a7d1a68.js";import{_ as Ge}from"./index-121f398a.js";import{u as ze,a as qe,l as Ve,r as Ke}from"./index-d36f400d.js";import"./index-5353e7c4.js";import{R as Je,_ as He}from"./Group-db28a0f9.js";import"./vuedraggable.umd-a1c90dfc.js";import"./index-9d5a19c2.js";import"./createForOfIteratorHelper-a50550d1.js";import"./index-ffe2e608.js";import"./css-aae66f86.js";import"./useMaxLevel-5fff0ff6.js";import"./CaretDownOutlined-5ddc51ec.js";import"./CaretUpOutlined-d8859d1d.js";import"./iconUtil-c5959902.js";import"./UpOutlined-cabff1d9.js";import"./RadioButton-b1164875.js";const Qe=W({name:"IconGrid",components:{ACard:de,AEmpty:Z},props:{value:String,data:{type:Array,required:!0},emptyDescription:String},emits:["select"],setup(e,{emit:_}){const r=u=>{_("select",u)};return{PRESENTED_IMAGE_SIMPLE:Z.PRESENTED_IMAGE_SIMPLE,onClick:r}}}),We=(e,_)=>{const r=e.__vccOpts||e;for(const[u,d]of _)r[u]=d;return r},Xe={class:"ele-icon-picker-list"},Ye=["title","onClick"],Ze={key:0,class:"ele-icon-picker-empty"};function et(e,_,r,u,d,p){const t=E("ACard"),y=E("AEmpty");return f(),U("div",Xe,[(f(!0),U(R,null,H(e.data,(g,w)=>(f(),U("div",{key:g+"-"+w,class:ee(["ele-icon-picker-item",{"ele-active":e.value&&g===e.value}])},[n(t,{hoverable:""},{default:a(()=>[P("div",{title:g,class:"ele-icon-picker-item-icon",onClick:D=>e.onClick(g)},[G(e.$slots,"icon",{icon:g})],8,Ye)]),_:2},1024)],2))),128)),!e.data||!e.data.length?(f(),U("div",Ze,[n(y,{image:e.PRESENTED_IMAGE_SIMPLE,description:e.emptyDescription},null,8,["image","description"])])):L("",!0)])}const tt=We(Qe,[["render",et]]),nt=W({name:"IconDropdown",components:{AInputSearch:fe,ATabs:he,ATabPane:ye,AMenu:ge,AMenuItem:be,IconGrid:tt},props:{value:String,allowSearch:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"搜索.."},data:Array,emptyDescription:String},emits:["select"],setup(e,{emit:_}){const r=S(),u=S([]),d=S([]),p=S([]),t=S(""),y=()=>{var A,k,m;var c,v,C;if(!((c=e.data)!=null&&c.length)){p.value=[],d.value=[],u.value=[],r.value=void 0;return}if(!t.value){r.value=e.data[0].title,e.data[0].children?(d.value=e.data[0].children.map(s=>s.title),u.value=[e.data[0].children[0].title],p.value=(A=e.data[0].children[0].icons)!=null?A:[]):(d.value=[],u.value=[],e.data[0].icons?p.value=e.data[0].icons:p.value=[]);return}if(e.data){const s=e.data.findIndex(l=>l.title===r.value);if(typeof s<"u"){const l=e.data[s].children;if(l!=null&&l.length&&u.value.length){const o=l.findIndex(h=>h.title===u.value[0]);if(typeof o<"u"){const h=(k=(v=l[o].icons)==null?void 0:v.filter(I=>I.toLowerCase().includes(t.value.toLowerCase())))!=null?k:[];if(h.length){p.value=h;return}}}}}for(let s=0;s<e.data.length;s++){const l=e.data[s];if(l.children)for(let o=0;o<l.children.length;o++){const h=(C=l.children[o].icons)==null?void 0:C.filter(I=>I.toLowerCase().includes(t.value.toLowerCase()));if(h!=null&&h.length){r.value=l.title,d.value=l.children.map(I=>I.title),u.value=[l.children[o].title],p.value=h;return}}}r.value=e.data[0].title,e.data[0].children?(d.value=e.data[0].children.map(s=>s.title),u.value=[e.data[0].children[0].title],p.value=(m=e.data[0].children[0].icons)!=null?m:[]):(d.value=[],u.value=[],p.value=[])},g=c=>{var C,A;var v;if(r.value=c,e.data){const k=e.data.findIndex(m=>m.title===c);if(typeof k<"u"){const m=e.data[k].children;if(m!=null&&m.length){d.value=m.map(l=>l.title),u.value=[m[0].title],t.value?p.value=(C=(v=m[0].icons)==null?void 0:v.filter(l=>l.toLowerCase().includes(t.value.toLowerCase())))!=null?C:[]:p.value=(A=m[0].icons)!=null?A:[];return}const s=e.data[k].icons;if(s!=null&&s.length){d.value=[],u.value=[],p.value=s;return}}}d.value=[],u.value=[],p.value=[]},w=({key:c})=>{var C,A;var v;if(u.value=[c],e.data){const k=e.data.findIndex(m=>m.title===r.value);if(typeof k<"u"){const m=e.data[k].children;if(m!=null&&m.length){const s=m.findIndex(l=>l.title===c);if(typeof s<"u"){u.value=[c],t.value?p.value=(C=(v=m[s].icons)==null?void 0:v.filter(l=>l.toLowerCase().includes(t.value.toLowerCase())))!=null?C:[]:p.value=(A=m[s].icons)!=null?A:[];return}}}}p.value=[]},D=c=>{_("select",c)};return te(()=>e.data,c=>{var v;if(t.value="",!(c!=null&&c.length)){r.value=void 0,d.value=[],u.value=[],p.value=[];return}r.value=c[0].title,c[0].children?(d.value=c[0].children.map(C=>C.title),u.value=[c[0].children[0].title],p.value=(v=c[0].children[0].icons)!=null?v:[]):(d.value=[],u.value=[],c[0].icons?p.value=c[0].icons:p.value=[])},{immediate:!0}),{activeKey:r,selectKey:u,menus:d,icons:p,keywords:t,onSearch:y,onTabClick:g,onMenuClick:w,onSelect:D}}}),at=(e,_)=>{const r=e.__vccOpts||e;for(const[u,d]of _)r[u]=d;return r},lt={class:"ele-icon-picker-body"},ot={key:0,class:"ele-icon-picker-search"},st={class:"ele-icon-picker-pane"};function it(e,_,r,u,d,p){const t=E("ATabPane"),y=E("AInputSearch"),g=E("ATabs"),w=E("AMenuItem"),D=E("AMenu"),c=E("IconGrid");return f(),U("div",lt,[n(g,{"active-key":e.activeKey,onTabClick:e.onTabClick},{rightExtra:a(()=>[e.allowSearch?(f(),U("div",ot,[n(y,{"allow-clear":"",size:"small",value:e.keywords,"onUpdate:value":_[0]||(_[0]=v=>e.keywords=v),placeholder:e.searchPlaceholder,onSearch:e.onSearch},null,8,["value","placeholder","onSearch"])])):L("",!0)]),default:a(()=>[(f(!0),U(R,null,H(e.data,v=>(f(),T(t,{key:v.title,tab:v.title},null,8,["tab"]))),128))]),_:1},8,["active-key","onTabClick"]),P("div",st,[e.menus.length?(f(),T(D,{key:0,mode:"inline","selected-keys":e.selectKey,onClick:e.onMenuClick},{default:a(()=>[(f(!0),U(R,null,H(e.menus,v=>(f(),T(w,{key:v},{default:a(()=>[$(z(v),1)]),_:2},1024))),128))]),_:1},8,["selected-keys","onClick"])):L("",!0),n(c,{data:e.icons,"empty-description":e.emptyDescription,onSelect:e.onSelect},{icon:a(v=>[G(e.$slots,"icon",ne(ae(v||{})))]),_:3},8,["data","empty-description","onSelect"])])])}const rt=at(nt,[["render",it]]),ut={trigger:{type:Array,default:()=>["click"]},placement:{type:String,default:"bottomLeft"},value:String,placeholder:String,size:String,disabled:Boolean,allowClear:{type:Boolean,default:!0},allowSearch:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"搜索.."},data:{type:Array,required:!0},emptyDescription:String},dt=W({name:"EleIconPicker",components:{CloseCircleFilled:ke,DownOutlined:Ie,APopover:Te,AInput:X,IconDropdown:rt},props:ut,emits:["update:value"],setup(e,{emit:_}){const{authenticated:r}=we(),u=Y.useInjectFormItemContext(),d=S(!1),p=Ce(()=>!r.value||e.disabled);return{visible:d,isDisabled:p,onClear:()=>{_("update:value",""),u.onFieldChange()},onSelect:g=>{d.value=!1,_("update:value",g),u.onFieldChange()}}}}),ct=(e,_)=>{const r=e.__vccOpts||e;for(const[u,d]of _)r[u]=d;return r},pt={class:"ele-icon-picker-arrow"};function mt(e,_,r,u,d,p){const t=E("CloseCircleFilled"),y=E("DownOutlined"),g=E("AInput"),w=E("IconDropdown"),D=E("APopover");return f(),T(D,{trigger:e.trigger,disabled:e.isDisabled,placement:e.placement,visible:e.visible,"onUpdate:visible":_[0]||(_[0]=c=>e.visible=c),"overlay-class-name":"ele-icon-picker-popper"},{content:a(()=>[n(w,{value:e.value,"allow-search":e.allowSearch,"search-placeholder":e.searchPlaceholder,data:e.data,"empty-description":e.emptyDescription,onSelect:e.onSelect},{icon:a(c=>[G(e.$slots,"icon",ne(ae(c||{})))]),_:3},8,["value","allow-search","search-placeholder","data","empty-description","onSelect"])]),default:a(()=>[P("div",{class:ee(["ele-icon-picker",{"ele-disabled":e.isDisabled}])},[n(g,{readonly:"",size:e.size,value:e.value,disabled:e.isDisabled,placeholder:e.placeholder},Se({suffix:a(()=>[P("div",pt,[e.allowClear&&e.value&&!e.isDisabled?(f(),T(t,{key:0,onClick:$e(e.onClear,["stop"])},null,8,["onClick"])):L("",!0),n(y)])]),_:2},[e.value?{name:"prefix",fn:a(()=>[G(e.$slots,"icon",{icon:e.value})]),key:"0"}:void 0]),1032,["size","value","disabled","placeholder"])],2)]),_:3},8,["trigger","disabled","placement","visible"])}const _t=ct(dt,[["render",mt]]),vt={__name:"menu-search",emits:["search"],setup(e,{emit:_}){const{form:r,resetFields:u}=le({title:"",path:"",authority:""}),d=()=>{_("search",r)},p=()=>{u(),d()};return(t,y)=>{const g=X,w=oe,D=ce,c=se,v=ie,C=pe,A=Y;return f(),T(A,{"label-col":{xl:7,lg:5,md:7,sm:4},"wrapper-col":{xl:17,lg:19,md:17,sm:20}},{default:a(()=>[n(C,{gutter:8},{default:a(()=>[n(D,{xl:6,lg:12,md:12,sm:24,xs:24},{default:a(()=>[n(w,{label:"菜单名称"},{default:a(()=>[n(g,{value:i(r).title,"onUpdate:value":y[0]||(y[0]=k=>i(r).title=k),valueModifiers:{trim:!0},placeholder:"请输入","allow-clear":""},null,8,["value"])]),_:1})]),_:1}),n(D,{xl:6,lg:12,md:12,sm:24,xs:24},{default:a(()=>[n(w,{label:"菜单地址"},{default:a(()=>[n(g,{value:i(r).path,"onUpdate:value":y[1]||(y[1]=k=>i(r).path=k),valueModifiers:{trim:!0},placeholder:"请输入","allow-clear":""},null,8,["value"])]),_:1})]),_:1}),n(D,{xl:6,lg:12,md:12,sm:24,xs:24},{default:a(()=>[n(w,{label:"权限标识"},{default:a(()=>[n(g,{value:i(r).authority,"onUpdate:value":y[2]||(y[2]=k=>i(r).authority=k),valueModifiers:{trim:!0},placeholder:"请输入","allow-clear":""},null,8,["value"])]),_:1})]),_:1}),n(D,{xl:6,lg:12,md:12,sm:24,xs:24},{default:a(()=>[n(w,{class:"ele-text-right","wrapper-col":{span:24}},{default:a(()=>[n(v,null,{default:a(()=>[n(c,{type:"primary",onClick:d},{default:a(()=>[$("查询")]),_:1}),n(c,{onClick:p},{default:a(()=>[$("重置")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};const ft={style:{"margin-bottom":"22px"}},ht={components:Q,data(){return{iconData:[{title:"已引入的图标",icons:Object.keys(Q)}]}}},yt=Object.assign(ht,{__name:"menu-edit",props:{visible:Boolean,data:Object,parentId:Number,menuList:Array},emits:["done","update:visible"],setup(e,{emit:_}){const r=e,u=S(null),d=S(!1),p=S(!1),{form:t,resetFields:y,assignFields:g}=le({menuId:void 0,parentId:void 0,title:"",menuType:0,openType:0,icon:"",path:"",component:"",authority:"",sortNumber:void 0,hide:0,meta:""}),w=De({title:[{required:!0,message:"请输入菜单名称",type:"string",trigger:"blur"}],sortNumber:[{required:!0,message:"请输入排序号",type:"number",trigger:"blur"}],meta:[{type:"string",validator:async(m,s)=>{if(s){const l="请输入正确的JSON格式";try{const o=JSON.parse(s);if(typeof o!="object"||o===null)return Promise.reject(l)}catch(o){return Promise.reject(l)}}return Promise.resolve()},trigger:"blur"}]}),D=()=>{u.value&&u.value.validate().then(()=>{p.value=!0;const m={...t,menuType:t.menuType===2?1:0,parentId:t.parentId||0};(d.value?ze:qe)(m).then(l=>{p.value=!1,F.success(l),c(!1),_("done")}).catch(l=>{p.value=!1,F.error(l.message)})}).catch(()=>{})},c=m=>{_("update:visible",m)},v=()=>{t.menuType===0?(t.authority="",t.openType=0,t.component=""):t.menuType===1?t.openType===2&&(t.authority=""):(t.openType=0,t.icon="",t.path="",t.component="",t.hide=0)},C=()=>{t.openType===2&&(t.component="",t.authority="")},A=m=>{t.hide=m?0:1},k=m=>{var s;return!!((s=m.children)!=null&&s.length)&&!m.component};return te(()=>r.visible,m=>{var s;if(m)if(r.data){const l=q(r.data.path),o=q(r.data.component),h=r.data.menuType===1?2:k(r.data)?0:1;g({...r.data,menuType:h,openType:l?2:o?1:0,parentId:r.data.parentId===0?void 0:r.data.parentId}),d.value=!0}else t.parentId=r.parentId,d.value=!1;else y(),(s=u.value)==null||s.clearValidate()}),(m,s)=>{const l=Ge,o=oe,h=X,I=ce,M=Je,N=He,j=pe,V=ue,K=_t,O=Ae,x=Be,B=xe,me=Ee,_e=Y,ve=Me;return f(),T(ve,{width:740,visible:e.visible,"confirm-loading":p.value,title:d.value?"修改菜单":"新建菜单","body-style":{paddingBottom:"8px"},"onUpdate:visible":c,onOk:D},{default:a(()=>[n(_e,{ref_key:"formRef",ref:u,model:i(t),rules:w,"label-col":{md:6,sm:4,xs:24},"wrapper-col":{md:18,sm:20,xs:24}},{default:a(()=>[n(j,{gutter:16},{default:a(()=>[n(I,{md:12,sm:24,xs:24},{default:a(()=>[n(o,{label:"上级菜单",name:"parentId"},{default:a(()=>[n(l,{"allow-clear":"","tree-data":e.menuList,"tree-default-expand-all":"",placeholder:"请选择上级菜单",value:i(t).parentId||void 0,"dropdown-style":{maxHeight:"360px",overflow:"auto"},"onUpdate:value":s[0]||(s[0]=b=>i(t).parentId=b)},null,8,["tree-data","value"])]),_:1}),n(o,{label:"菜单名称",name:"title"},{default:a(()=>[n(h,{"allow-clear":"",placeholder:"请输入菜单名称",value:i(t).title,"onUpdate:value":s[1]||(s[1]=b=>i(t).title=b)},null,8,["value"])]),_:1})]),_:1}),n(I,{md:12,sm:24,xs:24},{default:a(()=>[n(o,{label:"菜单类型",name:"menuType"},{default:a(()=>[n(N,{value:i(t).menuType,"onUpdate:value":s[2]||(s[2]=b=>i(t).menuType=b),onChange:v},{default:a(()=>[n(M,{value:0},{default:a(()=>[$("目录")]),_:1}),n(M,{value:1},{default:a(()=>[$("菜单")]),_:1}),n(M,{value:2},{default:a(()=>[$("按钮")]),_:1})]),_:1},8,["value"])]),_:1}),n(o,{label:"打开方式"},{default:a(()=>[n(N,{value:i(t).openType,"onUpdate:value":s[3]||(s[3]=b=>i(t).openType=b),disabled:i(t).menuType===0||i(t).menuType===2,onChange:C},{default:a(()=>[n(M,{value:0},{default:a(()=>[$("组件")]),_:1}),n(M,{value:1},{default:a(()=>[$("内链")]),_:1}),n(M,{value:2},{default:a(()=>[$("外链")]),_:1})]),_:1},8,["value","disabled"])]),_:1})]),_:1})]),_:1}),P("div",ft,[n(V)]),n(j,{gutter:16},{default:a(()=>[n(I,{md:12,sm:24,xs:24},{default:a(()=>[n(o,{label:"菜单图标",name:"icon"},{default:a(()=>[n(K,{data:m.iconData,"allow-search":!1,value:i(t).icon,"onUpdate:value":s[4]||(s[4]=b=>i(t).icon=b),placeholder:"请输入菜单图标",disabled:i(t).menuType===2},{icon:a(({icon:b})=>[(f(),T(re(b)))]),_:1},8,["data","value","disabled"])]),_:1}),n(o,{name:"path"},{label:a(()=>[i(t).openType===2?(f(),T(O,{key:0,title:"需要以`http://`、`https://`、`//`开头"},{default:a(()=>[n(i(J),{style:{"vertical-align":"-2px","margin-right":"4px"}})]),_:1})):L("",!0),P("span",null,z(i(t).openType===2?"外链地址":"路由地址"),1)]),default:a(()=>[n(h,{"allow-clear":"",value:i(t).path,"onUpdate:value":s[5]||(s[5]=b=>i(t).path=b),disabled:i(t).menuType===2,placeholder:i(t).openType===2?"请输入外链地址":"请输入路由地址"},null,8,["value","disabled","placeholder"])]),_:1}),n(o,{name:"component"},{label:a(()=>[i(t).openType===1?(f(),T(O,{key:0,title:"需要以`http://`、`https://`、`//`开头"},{default:a(()=>[n(i(J),{style:{"vertical-align":"-2px","margin-right":"4px"}})]),_:1})):L("",!0),P("span",null,z(i(t).openType===1?"内链地址":"组件路径"),1)]),default:a(()=>[n(h,{"allow-clear":"",value:i(t).component,"onUpdate:value":s[6]||(s[6]=b=>i(t).component=b),disabled:i(t).menuType===0||i(t).menuType===2||i(t).openType===2,placeholder:i(t).openType===1?"请输入内链地址":"请输入组件路径"},null,8,["value","disabled","placeholder"])]),_:1})]),_:1}),n(I,{md:12,sm:24,xs:24},{default:a(()=>[n(o,{label:"权限标识",name:"authority"},{default:a(()=>[n(h,{"allow-clear":"",placeholder:"请输入权限标识",value:i(t).authority,"onUpdate:value":s[7]||(s[7]=b=>i(t).authority=b),disabled:i(t).menuType===0||i(t).menuType===1&&i(t).openType===2},null,8,["value","disabled"])]),_:1}),n(o,{label:"排序号",name:"sortNumber"},{default:a(()=>[n(x,{min:0,max:99999,class:"ele-fluid",placeholder:"请输入排序号",value:i(t).sortNumber,"onUpdate:value":s[8]||(s[8]=b=>i(t).sortNumber=b)},null,8,["value"])]),_:1}),n(o,{label:"是否展示"},{default:a(()=>[n(B,{"checked-children":"是","un-checked-children":"否",checked:i(t).hide===0,disabled:i(t).menuType===2,"onUpdate:checked":A},null,8,["checked","disabled"]),n(O,{title:"选择不展示只注册路由不展示在侧边栏, 比如添加页面应该选择不展示"},{default:a(()=>[n(i(J),{style:{"vertical-align":"-4px","margin-left":"16px"}})]),_:1})]),_:1})]),_:1})]),_:1}),n(o,{label:"路由元数据",name:"meta","label-col":{md:3,sm:4,xs:24},"wrapper-col":{md:21,sm:20,xs:24}},{default:a(()=>[n(me,{rows:4,maxlength:200,placeholder:"请输入JSON格式的路由元数据",value:i(t).meta,"onUpdate:value":s[9]||(s[9]=b=>i(t).meta=b)},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["visible","confirm-loading","title"])}}}),gt={class:"ele-body"},bt=P("span",null,"新建",-1),kt={style:{"padding-left":"8px"}},It=["onClick"],Tt=["onClick"],wt=P("a",{class:"ele-text-danger"},"删除",-1),Ct={name:"SystemMenu",components:Q},Xt=Object.assign(Ct,{setup(e){const _=S(null),r=S([{key:"index",width:48,align:"center",fixed:"left",hideInSetting:!0,customRender:({index:l})=>{var o,h;return l+((h=(o=_.value)==null?void 0:o.tableIndex)!=null?h:0)}},{title:"菜单名称",key:"title",sorter:!0,showSorterTooltip:!1,ellipsis:!0},{title:"路由地址",dataIndex:"path",sorter:!0,showSorterTooltip:!1,ellipsis:!0},{title:"组件路径",dataIndex:"component",sorter:!0,showSorterTooltip:!1,ellipsis:!0},{title:"权限标识",dataIndex:"authority",sorter:!0,showSorterTooltip:!1,ellipsis:!0},{title:"排序",dataIndex:"sortNumber",sorter:!0,showSorterTooltip:!1,width:90},{title:"可见",dataIndex:"hide",sorter:!0,showSorterTooltip:!1,customRender:({text:l})=>["是","否"][l],width:90},{title:"类型",key:"menuType",sorter:!0,showSorterTooltip:!1,width:90},{title:"创建时间",dataIndex:"createTime",sorter:!0,showSorterTooltip:!1,ellipsis:!0,customRender:({text:l})=>Pe(l)},{title:"操作",key:"action",width:200,align:"center"}]),u=S(null),d=S(!1),p=S(),t=S([]),y=S([]),g=({where:l})=>Ve({...l}),w=l=>Oe({data:l.map(o=>({...o,key:o.menuId,value:o.menuId})),idField:"menuId",parentIdField:"parentId"}),D=({data:l})=>{t.value=l},c=l=>{var o;(o=_==null?void 0:_.value)==null||o.reload({where:l})},v=(l,o)=>{u.value=l!=null?l:null,p.value=o,d.value=!0},C=l=>{var h;if((h=l.children)!=null&&h.length){F.error("请先删除子节点");return}const o=Le("请求中..",0);Ke(l.menuId).then(I=>{o(),F.success(I),c()}).catch(I=>{o(),F.error(I.message)})},A=()=>{let l=[];Ne(t.value,o=>{o.children&&o.children.length&&o.menuId&&l.push(o.menuId)}),y.value=l},k=()=>{y.value=[]},m=(l,o)=>{l?y.value=[...y.value,o.menuId]:y.value=y.value.filter(h=>h!==o.menuId)},s=l=>{var o;return!!((o=l.children)!=null&&o.length)&&!l.component};return(l,o)=>{const h=se,I=ie,M=Fe,N=ue,j=je,V=Re,K=de;return f(),U("div",gt,[n(K,{bordered:!1},{default:a(()=>[n(vt,{onSearch:c}),n(V,{ref_key:"tableRef",ref:_,"row-key":"menuId",columns:r.value,datasource:g,"parse-data":w,"need-page":!1,"expand-icon-column-index":1,"expanded-row-keys":y.value,scroll:{x:1200},"cache-key":"proSystemMenuTable",onDone:D,onExpand:m},{toolbar:a(()=>[n(I,null,{default:a(()=>[n(h,{type:"primary",class:"ele-btn-icon",onClick:o[0]||(o[0]=O=>v())},{icon:a(()=>[n(i(Ue))]),default:a(()=>[bt]),_:1}),n(h,{type:"dashed",class:"ele-btn-icon",onClick:A},{default:a(()=>[$(" 展开全部 ")]),_:1}),n(h,{type:"dashed",class:"ele-btn-icon",onClick:k},{default:a(()=>[$(" 折叠全部 ")]),_:1})]),_:1})]),bodyCell:a(({column:O,record:x})=>[O.key==="menuType"?(f(),U(R,{key:0},[i(q)(x.path)?(f(),T(M,{key:0,color:"red"},{default:a(()=>[$("外链")]),_:1})):i(q)(x.component)?(f(),T(M,{key:1,color:"orange"},{default:a(()=>[$(" 内链 ")]),_:1})):s(x)?(f(),T(M,{key:2,color:"blue"},{default:a(()=>[$("目录")]),_:1})):x.menuType===0?(f(),T(M,{key:3,color:"green"},{default:a(()=>[$("菜单")]),_:1})):x.menuType===1?(f(),T(M,{key:4},{default:a(()=>[$("按钮")]),_:1})):L("",!0)],64)):O.key==="title"?(f(),U(R,{key:1},[x.icon?(f(),T(re(x.icon),{key:0})):L("",!0),P("span",kt,z(x.title),1)],64)):O.key==="action"?(f(),T(I,{key:2},{default:a(()=>[P("a",{onClick:B=>v(null,x.menuId)},"添加",8,It),n(N,{type:"vertical"}),P("a",{onClick:B=>v(x)},"修改",8,Tt),n(N,{type:"vertical"}),n(j,{placement:"topRight",title:"确定要删除此菜单吗？",onConfirm:B=>C(x)},{default:a(()=>[wt]),_:2},1032,["onConfirm"])]),_:2},1024)):L("",!0)]),_:1},8,["columns","expanded-row-keys"])]),_:1}),n(yt,{visible:d.value,"onUpdate:visible":o[1]||(o[1]=O=>d.value=O),data:u.value,"parent-id":p.value,"menu-list":t.value,onDone:c},null,8,["visible","data","parent-id","menu-list"])])}}});export{Xt as default};
