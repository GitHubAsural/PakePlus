import{n as q,bD as G,ar as T,aD as H,aP as J,r as a,G as K,E as W,ag as D,o as _,c as N,d as i,ai as F,b as o,w as l,j as L,F as O,aE as I,e as n,t as y,an as R,aQ as Z,aR as x,aF as X,bI as Y,g as ee}from"./index-08ed677d.js";import{C as te}from"./index-7b650976.js";/* empty css              */function le(e){var m;const{top:d,left:c}=e.getBoundingClientRect(),{pageYOffset:r,pageXOffset:u}=(m=e.ownerDocument.defaultView)!=null?m:{};return{top:d+(r!=null?r:0),left:c+(u!=null?u:0)}}function Q(e,d,c,r){const u=["ele-tour-popover"];return c&&u.push("ele-tour-modal"),r&&r.overlayClassName&&u.push(r.overlayClassName),{trigger:"click",transitionName:"ele-tour-fast",getPopupContainer:e?()=>e:void 0,...r,visible:d!=null?d:!1,overlayClassName:u.join(" ")}}const oe={modelValue:Number,steps:{type:Array,required:!0},mask:{type:Boolean,default:!0},padding:{type:Number,default:6},zIndex:Number,locale:Object},ae=q({name:"EleTour",components:{APopover:G,AButton:T},props:oe,emits:{"update:modelValue":e=>!0},setup(e,{emit:d}){const{authenticated:c}=H(),{locale:r}=J({name:"tour"},e),u=a(null),m=a(!1),p=a(null),g=a(!1),k=a({}),C=a(!1),b=a({}),S=()=>{var $;if(!c.value||!e.steps||e.modelValue==null||e.modelValue<0||e.modelValue>=e.steps.length){M();return}p.value=e.steps[e.modelValue],g.value=e.modelValue===e.steps.length-1;const{mask:V,popoverProps:j,target:t,padding:f}=p.value;C.value=V!=null?V:e.mask;const s=typeof t=="function"?t():t;if(s){s.focus();const{width:P,height:z}=s.getBoundingClientRect(),{top:v,left:E}=le(s),A=($=f!=null?f:e.padding)!=null?$:0;k.value={width:P+A+A+"px",height:z+A+A+"px",top:v-A+"px",left:E-A+"px"}}else k.value={width:"0px",height:"0px",top:"50%",left:"50%"};b.value=Q(u.value,!0,!s,j),m.value=!0},M=()=>{m.value=!1,k.value={},p.value=null,C.value=!1,b.value=Q(u.value)},h=V=>{d("update:modelValue",V)},w=()=>{e.modelValue!=null&&e.steps!=null&&e.steps.length&&e.modelValue>0&&h(e.modelValue-1)},B=()=>{e.modelValue!=null&&e.steps!=null&&e.steps.length&&e.modelValue<e.steps.length-1&&h(e.modelValue+1)},U=()=>{h(null)};return K(()=>{S()}),W(()=>e.modelValue,()=>{S()}),{lang:r,rootRef:u,visible:m,step:p,isLast:g,boxStyle:k,showMask:C,popProps:b,onPrev:w,onNext:B,onFinish:U}}}),se=(e,d)=>{const c=e.__vccOpts||e;for(const[r,u]of d)c[r]=u;return c},ne={key:0,class:"ele-tour-title"},ue={class:"ele-tour-text"},re={class:"ele-tour-footer"},ie={class:"ele-tour-counter"},de={class:"ele-tour-action"};function ce(e,d,c,r,u,m){const p=D("AButton"),g=D("APopover");return _(),N(Y,{to:"body"},[i("div",{ref:"rootRef",class:X(["ele-tour",{"ele-tour-mask":e.showMask},{"ele-tour-open":e.visible}]),style:F({zIndex:e.zIndex})},[i("div",{class:"ele-tour-box",style:F(e.boxStyle)},null,4),o(g,Z(x(e.popProps)),{content:l(()=>[e.steps&&e.step?(_(),L(O,{key:0},[e.step.title?(_(),L("div",ne,[I(e.$slots,"title",{step:e.step,current:e.modelValue},()=>[n(y(e.step.title),1)])])):R("",!0),i("div",ue,[I(e.$slots,"text",{step:e.step,current:e.modelValue},()=>[n(y(e.step.description),1)])]),I(e.$slots,"footer",{step:e.step,current:e.modelValue},()=>[i("div",re,[i("div",ie,y((e.modelValue||0)+1)+"/"+y(e.steps.length),1),i("div",de,[e.isLast?R("",!0):(_(),N(p,{key:0,size:"small",onClick:e.onFinish},{default:l(()=>[n(y(e.lang.skip),1)]),_:1},8,["onClick"])),e.modelValue!==0?(_(),N(p,{key:1,size:"small",onClick:e.onPrev},{default:l(()=>[n(y(e.lang.prev),1)]),_:1},8,["onClick"])):R("",!0),e.isLast?R("",!0):(_(),N(p,{key:2,size:"small",type:"primary",onClick:e.onNext},{default:l(()=>[n(y(e.lang.next),1)]),_:1},8,["onClick"])),e.isLast?(_(),N(p,{key:3,size:"small",type:"primary",onClick:e.onFinish},{default:l(()=>[n(y(e.lang.finish),1)]),_:1},8,["onClick"])):R("",!0)])])])],64)):R("",!0)]),default:l(()=>[i("div",{class:"ele-tour-reference",style:F(e.boxStyle)},null,4)]),_:3},16)],6)])}const pe=se(ae,[["render",ce]]);const fe={class:"ele-body ele-body-card"},me={style:{"margin-top":"20px"}},ve={style:{"margin-top":"20px"}},ye={style:{"margin-top":"20px"}},_e=i("div",{style:{"margin-bottom":"10px"}},[i("img",{src:"https://gw.alipayobjects.com/mdn/rms_08e378/afts/img/A*P0S-QIRUbsUAAAAAAAAAAABkARQnAQ",style:{height:"184px",width:"100%","object-fit":"cover"}})],-1),ge={name:"ExtensionTour"},Re=Object.assign(ge,{setup(e){const d=a(null),c=a(null),r=a(null),u=a(null),m=a([{target:()=>{var t;return(t=c.value)==null?void 0:t.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可."},{target:()=>{var t;return(t=r.value)==null?void 0:t.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台."},{target:()=>{var t;return(t=u.value)==null?void 0:t.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能."}]),p=()=>{d.value=0},g=a(null),k=a(null),C=a(null),b=a(null),S=a([{target:()=>{var t;return(t=k.value)==null?void 0:t.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可.",popoverProps:{placement:"topLeft"}},{target:()=>{var t;return(t=C.value)==null?void 0:t.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台.",popoverProps:{placement:"bottom"}},{target:()=>{var t;return(t=b.value)==null?void 0:t.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能.",popoverProps:{placement:"topRight"}}]),M=()=>{g.value=0},h=a(null),w=a(null),B=a(null),U=a(null),V=a([{title:"欢迎使用 EleAdminPro 系统",description:"下面将为您介绍一些常用功能的操作说明, 如果之前已经为您介绍过, 您可以直接点击跳过结束指引."},{target:()=>{var t;return(t=w.value)==null?void 0:t.$el},title:"如何进行文件上传",description:"点击这个按钮在弹出框中选择想要上传的文件即可."},{target:()=>{var t;return(t=B.value)==null?void 0:t.$el},title:"如何提交数据",description:"数据录入完成后点击这个按钮即可提交数据到后台.",mask:!1},{target:()=>{var t;return(t=U.value)==null?void 0:t.$el},title:"如何进行更多的操作",description:"鼠标移入到此按钮上即可展示出更多的操作功能."}]),j=()=>{h.value=0};return(t,f)=>{const s=T,$=ee,P=pe,z=te;return _(),L("div",fe,[o(z,{title:"基本用法",bordered:!1},{default:l(()=>[i("div",null,[o(s,{type:"primary",onClick:p},{default:l(()=>[n("开始引导")]),_:1})]),i("div",me,[o($,{size:"large"},{default:l(()=>[o(s,{ref_key:"uploadRef1",ref:c},{default:l(()=>[n("Upload")]),_:1},512),o(s,{ref_key:"saveRef1",ref:r,type:"primary"},{default:l(()=>[n("Save")]),_:1},512),o(s,{ref_key:"moreRef1",ref:u},{default:l(()=>[n("More")]),_:1},512)]),_:1})]),o(P,{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=v=>d.value=v),steps:m.value},null,8,["modelValue","steps"])]),_:1}),o(z,{title:"不带遮罩层",bordered:!1},{default:l(()=>[i("div",null,[o(s,{type:"primary",onClick:M},{default:l(()=>[n("开始引导")]),_:1})]),i("div",ve,[o($,{size:"large"},{default:l(()=>[o(s,{ref_key:"uploadRef2",ref:k},{default:l(()=>[n("Upload")]),_:1},512),o(s,{ref_key:"saveRef2",ref:C,type:"primary"},{default:l(()=>[n("Save")]),_:1},512),o(s,{ref_key:"moreRef2",ref:b},{default:l(()=>[n("More")]),_:1},512)]),_:1})]),o(P,{modelValue:g.value,"onUpdate:modelValue":f[1]||(f[1]=v=>g.value=v),steps:S.value,mask:!1},null,8,["modelValue","steps"])]),_:1}),o(z,{title:"混合弹窗等多种形式",bordered:!1},{default:l(()=>[i("div",null,[o(s,{type:"primary",onClick:j},{default:l(()=>[n("开始引导")]),_:1})]),i("div",ye,[o($,{size:"large"},{default:l(()=>[o(s,{ref_key:"uploadRef3",ref:w},{default:l(()=>[n("Upload")]),_:1},512),o(s,{ref_key:"saveRef3",ref:B,type:"primary"},{default:l(()=>[n("Save")]),_:1},512),o(s,{ref_key:"moreRef3",ref:U},{default:l(()=>[n("More")]),_:1},512)]),_:1})]),o(P,{modelValue:h.value,"onUpdate:modelValue":f[2]||(f[2]=v=>h.value=v),steps:V.value},{text:l(({step:v,current:E})=>[E===0?(_(),L(O,{key:0},[_e,i("div",null,y(v.description),1)],64)):R("",!0)]),_:1},8,["modelValue","steps"])]),_:1})])}}});export{Re as default};
