import{n as Le,a1 as Ln,q as C,U as Mn,S as X,b as K,I as B,P as Ce,cl as aa,r as ae,ca as ye,J as D,a_ as De,a as In,G as An,bT as ta,bk as vn,ci as Fn,H as xe,W as oa,cs as ra,E as Ne,Z as jn,O as la,bG as ia,bH as da,ct as Bn,cu as ua,D as He,cv as ca,b2 as va,F as sa,y as fa,cw as tn,X as Te,ba as ya,b1 as ln,bi as ga,K as we,A as Ve,a6 as ha,b0 as pa,a7 as ba}from"./index-08ed677d.js";import{h as dn,i as un,j as Rn,e as Ka,f as ma,c as ka,g as pn,k as xa,l as bn,u as Sa,p as on,a as rn,b as ke,m as Ca,n as Kn,d as Se,o as Da}from"./useMaxLevel-5fff0ff6.js";var _n=Symbol("TreeContextKey"),Na=Le({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,o){var f=o.slots;return Ln(_n,C(function(){return e.value})),function(){var y;return(y=f.default)===null||y===void 0?void 0:y.call(f)}}}),sn=function(){return Mn(_n,C(function(){return{}}))},$n=Symbol("KeysStateKey"),Ea=function(e){Ln($n,e)},Hn=function(){return Mn($n,{expandedKeys:X([]),selectedKeys:X([]),loadedKeys:X([]),loadingKeys:X([]),checkedKeys:X([]),halfCheckedKeys:X([]),expandedKeysSet:C(function(){return new Set}),selectedKeysSet:C(function(){return new Set}),loadedKeysSet:C(function(){return new Set}),loadingKeysSet:C(function(){return new Set}),checkedKeysSet:C(function(){return new Set}),halfCheckedKeysSet:C(function(){return new Set}),flattenNodes:X([])})},Oa=function(e){for(var o=e.prefixCls,f=e.level,y=e.isStart,z=e.isEnd,_="".concat(o,"-indent-unit"),u=[],N=0;N<f;N+=1){var x;u.push(K("span",{key:N,class:(x={},B(x,_,!0),B(x,"".concat(_,"-start"),y[N]),B(x,"".concat(_,"-end"),z[N]),x)},null))}return K("span",{"aria-hidden":"true",class:"".concat(o,"-indent")},[u])};const wa=Oa;var Vn={eventKey:[String,Number],prefixCls:String,title:Ce.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Ce.any,switcherIcon:Ce.any,domRef:{type:Function}},Pa={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Ta=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Ce.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Ce.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Ce.any,switcherIcon:Ce.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},La=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],mn="open",kn="close",Ma="---";const xn=Le({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Vn,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,o){var f=o.attrs,y=o.slots,z=o.expose;aa(!("slots"in e.data),"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(c){return"`v-slot:"+c+"` "}),"instead"));var _=ae(!1),u=sn(),N=Hn(),x=N.expandedKeysSet,T=N.selectedKeysSet,W=N.loadedKeysSet,$=N.loadingKeysSet,R=N.checkedKeysSet,F=N.halfCheckedKeysSet,J=u.value,v=J.dragOverNodeKey,S=J.dropPosition,E=J.keyEntities,M=C(function(){return dn(e.eventKey,{expandedKeysSet:x.value,selectedKeysSet:T.value,loadedKeysSet:W.value,loadingKeysSet:$.value,checkedKeysSet:R.value,halfCheckedKeysSet:F.value,dragOverNodeKey:v,dropPosition:S,keyEntities:E})}),I=ye(function(){return M.value.expanded}),Y=ye(function(){return M.value.selected}),Z=ye(function(){return M.value.checked}),se=ye(function(){return M.value.loaded}),V=ye(function(){return M.value.loading}),O=ye(function(){return M.value.halfChecked}),le=ye(function(){return M.value.dragOver}),ge=ye(function(){return M.value.dragOverGapTop}),te=ye(function(){return M.value.dragOverGapBottom}),pe=ye(function(){return M.value.pos}),fe=ae(),de=C(function(){var c=e.eventKey,n=u.value.keyEntities,i=n[c]||{},m=i.children;return!!(m||[]).length}),ie=C(function(){var c=e.isLeaf,n=u.value.loadData,i=de.value;return c===!1?!1:c||!n&&!i||n&&se.value&&!i}),he=C(function(){return ie.value?null:I.value?mn:kn}),w=C(function(){var c=e.disabled,n=u.value.disabled;return!!(n||c)}),H=C(function(){var c=e.checkable,n=u.value.checkable;return!n||c===!1?!1:n}),ee=C(function(){var c=e.selectable,n=u.value.selectable;return typeof c=="boolean"?c:n}),ue=C(function(){var c=e.data,n=e.active,i=e.checkable,m=e.disableCheckbox,d=e.disabled,a=e.selectable;return D(D({active:n,checkable:i,disableCheckbox:m,disabled:d,selectable:a},c),{},{dataRef:c,data:c,isLeaf:ie.value,checked:Z.value,expanded:I.value,loading:V.value,selected:Y.value,halfChecked:O.value})}),oe=oa(),G=C(function(){var c=e.eventKey,n=u.value.keyEntities,i=n[c]||{},m=i.parent;return D(D({},un(De({},e,M.value))),{},{parent:m})}),re=In({eventData:G,eventKey:C(function(){return e.eventKey}),selectHandle:fe,pos:pe,key:oe.vnode.key});z(re);var be=function(n){var i=u.value.onNodeDoubleClick;i(n,G.value)},Me=function(n){if(!w.value){var i=u.value.onNodeSelect;n.preventDefault(),i(n,G.value)}},Pe=function(n){if(!w.value){var i=e.disableCheckbox,m=u.value.onNodeCheck;if(!(!H.value||i)){n.preventDefault();var d=!Z.value;m(n,G.value,d)}}},Ie=function(n){var i=u.value.onNodeClick;i(n,G.value),ee.value?Me(n):Pe(n)},qe=function(n){var i=u.value.onNodeMouseEnter;i(n,G.value)},ze=function(n){var i=u.value.onNodeMouseLeave;i(n,G.value)},We=function(n){var i=u.value.onNodeContextMenu;i(n,G.value)},Ge=function(n){var i=u.value.onNodeDragStart;n.stopPropagation(),_.value=!0,i(n,re);try{n.dataTransfer.setData("text/plain","")}catch(m){}},Ue=function(n){var i=u.value.onNodeDragEnter;n.preventDefault(),n.stopPropagation(),i(n,re)},Ye=function(n){var i=u.value.onNodeDragOver;n.preventDefault(),n.stopPropagation(),i(n,re)},Xe=function(n){var i=u.value.onNodeDragLeave;n.stopPropagation(),i(n,re)},Ae=function(n){var i=u.value.onNodeDragEnd;n.stopPropagation(),_.value=!1,i(n,re)},Fe=function(n){var i=u.value.onNodeDrop;n.preventDefault(),n.stopPropagation(),_.value=!1,i(n,re)},je=function(n){var i=u.value.onNodeExpand;V.value||i(n,G.value)},Je=function(){var n=e.data,i=u.value.draggable;return!!(i&&(!i.nodeDraggable||i.nodeDraggable(n)))},Ze=function(){var n=u.value,i=n.draggable,m=n.prefixCls;return i&&i!==null&&i!==void 0&&i.icon?K("span",{class:"".concat(m,"-draggable-icon")},[i.icon]):null},Qe=function(){var n,i,m,d=e.switcherIcon,a=d===void 0?y.switcherIcon||((n=u.value.slots)===null||n===void 0?void 0:n[(i=e.data)===null||i===void 0||(m=i.slots)===null||m===void 0?void 0:m.switcherIcon]):d,t=u.value.switcherIcon,r=a||t;return typeof r=="function"?r(ue.value):r},Be=function(){var n=u.value,i=n.loadData,m=n.onNodeLoad;V.value||i&&I.value&&!ie.value&&!de.value&&!se.value&&m(G.value)};An(function(){Be()}),ta(function(){Be()});var en=function(){var n=u.value.prefixCls,i=Qe();if(ie.value)return i!==!1?K("span",{class:xe("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},[i]):null;var m=xe("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(I.value?mn:kn));return i!==!1?K("span",{onClick:je,class:m},[i]):null},Oe=function(){var n,i,m=e.disableCheckbox,d=u.value.prefixCls,a=w.value,t=H.value;return t?K("span",{class:xe("".concat(d,"-checkbox"),Z.value&&"".concat(d,"-checkbox-checked"),!Z.value&&O.value&&"".concat(d,"-checkbox-indeterminate"),(a||m)&&"".concat(d,"-checkbox-disabled")),onClick:Pe},[(n=(i=u.value).customCheckable)===null||n===void 0?void 0:n.call(i)]):null},Re=function(){var n=u.value.prefixCls;return K("span",{class:xe("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(he.value||"docu"),V.value&&"".concat(n,"-icon_loading"))},null)},nn=function(){var n=e.disabled,i=e.eventKey,m=u.value,d=m.draggable,a=m.dropLevelOffset,t=m.dropPosition,r=m.prefixCls,b=m.indent,h=m.dropIndicatorRender,g=m.dragOverNodeKey,s=m.direction,p=d!==!1,k=!n&&p&&g===i;return k?h({dropPosition:t,dropLevelOffset:a,indent:b,prefixCls:r,direction:s}):null},Ke=function(){var n,i,m,d,a=e.icon,t=a===void 0?y.icon:a,r=e.data,b=y.title||((n=u.value.slots)===null||n===void 0?void 0:n[(i=e.data)===null||i===void 0||(m=i.slots)===null||m===void 0?void 0:m.title])||((d=u.value.slots)===null||d===void 0?void 0:d.title)||e.title,h=u.value,g=h.prefixCls,s=h.showIcon,p=h.icon,k=h.loadData,P=w.value,L="".concat(g,"-node-content-wrapper"),A;if(s){var q,U,ne=t||((q=u.value.slots)===null||q===void 0?void 0:q[r==null||(U=r.slots)===null||U===void 0?void 0:U.icon])||p;A=ne?K("span",{class:xe("".concat(g,"-iconEle"),"".concat(g,"-icon__customize"))},[typeof ne=="function"?ne(ue.value):ne]):Re()}else k&&V.value&&(A=Re());var Q;typeof b=="function"?Q=b(ue.value):Q=b,Q=Q===void 0?Ma:Q;var j=K("span",{class:"".concat(g,"-title")},[Q]);return K("span",{ref:fe,title:typeof b=="string"?b:"",class:xe("".concat(L),"".concat(L,"-").concat(he.value||"normal"),!P&&(Y.value||_.value)&&"".concat(g,"-node-selected")),onMouseenter:qe,onMouseleave:ze,onContextmenu:We,onClick:Ie,onDblclick:be},[A,j,nn()])};return function(){var c,n=D(D({},e),f),i=n.eventKey,m=n.isLeaf,d=n.isStart,a=n.isEnd,t=n.domRef,r=n.active;n.data;var b=n.onMousemove,h=n.selectable,g=vn(n,La),s=u.value,p=s.prefixCls,k=s.filterTreeNode,P=s.keyEntities,L=s.dropContainerKey,A=s.dropTargetKey,q=s.draggingNodeKey,U=w.value,ne=Fn(g,{aria:!0,data:!0}),Q=P[i]||{},j=Q.level,ce=a[a.length-1],ve=Je(),me=!U&&ve,_e=q===i,an=h!==void 0?{"aria-selected":!!h}:void 0;return K("div",D(D({ref:t,class:xe(f.class,"".concat(p,"-treenode"),(c={},B(c,"".concat(p,"-treenode-disabled"),U),B(c,"".concat(p,"-treenode-switcher-").concat(I.value?"open":"close"),!m),B(c,"".concat(p,"-treenode-checkbox-checked"),Z.value),B(c,"".concat(p,"-treenode-checkbox-indeterminate"),O.value),B(c,"".concat(p,"-treenode-selected"),Y.value),B(c,"".concat(p,"-treenode-loading"),V.value),B(c,"".concat(p,"-treenode-active"),r),B(c,"".concat(p,"-treenode-leaf-last"),ce),B(c,"".concat(p,"-treenode-draggable"),me),B(c,"dragging",_e),B(c,"drop-target",A===i),B(c,"drop-container",L===i),B(c,"drag-over",!U&&le.value),B(c,"drag-over-gap-top",!U&&ge.value),B(c,"drag-over-gap-bottom",!U&&te.value),B(c,"filter-node",k&&k(G.value)),c)),style:f.style,draggable:me,"aria-grabbed":_e,onDragstart:me?Ge:void 0,onDragenter:ve?Ue:void 0,onDragover:ve?Ye:void 0,onDragleave:ve?Xe:void 0,onDrop:ve?Fe:void 0,onDragend:ve?Ae:void 0,onMousemove:b},an),ne),[K(wa,{prefixCls:p,level:j,isStart:d,isEnd:a},null),Ze(),en(),Oe(),Ke()])}}});var Ia=["motion","motionNodes","motionType","active","eventKey"];const Aa=Le({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:D(D({},Vn),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,o){var f=o.attrs,y=o.slots,z=ae(!0),_=sn(),u=ae(!1),N=C(function(){return e.motion?e.motion:ra()}),x=function(W,$){if($==="appear"){var R,F;(R=N.value)===null||R===void 0||(F=R.onAfterEnter)===null||F===void 0||F.call(R,W)}else if($==="leave"){var J,v;(J=N.value)===null||J===void 0||(v=J.onAfterLeave)===null||v===void 0||v.call(J,W)}u.value||e.onMotionEnd(),u.value=!0};return Ne(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&z.value&&jn(function(){z.value=!1})},{immediate:!0,flush:"post"}),An(function(){e.motionNodes&&e.onMotionStart()}),la(function(){e.motionNodes&&x()}),function(){e.motion;var T=e.motionNodes,W=e.motionType,$=e.active,R=e.eventKey,F=vn(e,Ia);return T?K(ua,D(D({},N.value),{},{appear:W==="show",onAfterAppear:function(v){return x(v,"appear")},onAfterLeave:function(v){return x(v,"leave")}}),{default:function(){return[ia(K("div",{class:"".concat(_.value.prefixCls,"-treenode-motion")},[T.map(function(v){var S=De({},(Bn(v.data),v.data)),E=v.title,M=v.key,I=v.isStart,Y=v.isEnd;return delete S.children,K(xn,D(D({},S),{},{title:E,active:$,data:v.data,key:M,eventKey:M,isStart:I,isEnd:Y}),y)})]),[[da,z.value]])]}}):K(xn,D(D({domRef:ae,class:f.class,style:f.style},F),{},{active:$,eventKey:R}),y)}}});function Fa(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=l.length,f=e.length;if(Math.abs(o-f)!==1)return{add:!1,key:null};function y(z,_){var u=new Map;z.forEach(function(x){u.set(x,!0)});var N=_.filter(function(x){return!u.has(x)});return N.length===1?N[0]:null}return o<f?{add:!0,key:y(l,e)}:{add:!1,key:y(e,l)}}function Sn(l,e,o){var f=l.findIndex(function(u){return u.key===o}),y=l[f+1],z=e.findIndex(function(u){return u.key===o});if(y){var _=e.findIndex(function(u){return u.key===y.key});return e.slice(z+1,_)}return e.slice(z+1)}var ja=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],Cn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ba=function(){},Ee="RC_TREE_MOTION_".concat(Math.random()),cn={key:Ee},qn={key:Ee,level:0,index:0,pos:"0",node:cn,nodes:[cn]},Dn={parent:null,children:[],pos:qn.pos,data:cn,title:null,key:Ee,isStart:[],isEnd:[]};function Nn(l,e,o,f){return e===!1||!o?l:l.slice(0,Math.ceil(o/f)+1)}function En(l){var e=l.key,o=l.pos;return Rn(e,o)}function Ra(l){for(var e=String(l.key),o=l;o.parent;)o=o.parent,e="".concat(o.key," > ").concat(e);return e}const _a=Le({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Pa,setup:function(e,o){var f=o.expose,y=o.attrs,z=ae(),_=ae(),u=Hn(),N=u.expandedKeys,x=u.flattenNodes;f({scrollTo:function(E){z.value.scrollTo(E)},getIndentWidth:function(){return _.value.offsetWidth}});var T=X(x.value),W=X([]),$=ae(null);function R(){T.value=x.value,W.value=[],$.value=null,e.onListChangeEnd()}var F=sn();Ne([function(){return N.value.slice()},x],function(S,E){var M=He(S,2),I=M[0],Y=M[1],Z=He(E,2),se=Z[0],V=Z[1],O=Fa(se,I);if(O.key!==null){var le=e.virtual,ge=e.height,te=e.itemHeight;if(O.add){var pe=V.findIndex(function(H){var ee=H.key;return ee===O.key}),fe=Nn(Sn(V,Y,O.key),le,ge,te),de=V.slice();de.splice(pe+1,0,Dn),T.value=de,W.value=fe,$.value="show"}else{var ie=Y.findIndex(function(H){var ee=H.key;return ee===O.key}),he=Nn(Sn(Y,V,O.key),le,ge,te),w=Y.slice();w.splice(ie+1,0,Dn),T.value=w,W.value=he,$.value="hide"}}else V!==Y&&(T.value=Y)}),Ne(function(){return F.value.dragging},function(S){S||R()});var J=C(function(){return e.motion===void 0?T.value:x.value}),v=function(){e.onActiveChange(null)};return function(){var S=D(D({},e),y),E=S.prefixCls;S.selectable,S.checkable;var M=S.disabled,I=S.motion,Y=S.height,Z=S.itemHeight,se=S.virtual,V=S.focusable,O=S.activeItem,le=S.focused,ge=S.tabindex,te=S.onKeydown,pe=S.onFocus,fe=S.onBlur,de=S.onListChangeStart;S.onListChangeEnd;var ie=vn(S,ja);return K(sa,null,[le&&O&&K("span",{style:Cn,"aria-live":"assertive"},[Ra(O)]),K("div",null,[K("input",{style:Cn,disabled:V===!1||M,tabindex:V!==!1?ge:null,onKeydown:te,onFocus:pe,onBlur:fe,value:"",onChange:Ba,"aria-label":"for screen reader"},null)]),K("div",{class:"".concat(E,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[K("div",{class:"".concat(E,"-indent")},[K("div",{ref:_,class:"".concat(E,"-indent-unit")},null)])]),K(ca,D(D({},va(ie,["onActiveChange"])),{},{data:J.value,itemKey:En,height:Y,fullHeight:!1,virtual:se,itemHeight:Z,prefixCls:"".concat(E,"-list"),ref:z,onVisibleChange:function(w,H){var ee=new Set(w),ue=H.filter(function(oe){return!ee.has(oe)});ue.some(function(oe){return En(oe)===Ee})&&R()}}),{default:function(w){var H=w.pos,ee=De({},(Bn(w.data),w.data)),ue=w.title,oe=w.key,G=w.isStart,re=w.isEnd,be=Rn(oe,H);return delete ee.key,delete ee.children,K(Aa,D(D({},ee),{},{eventKey:be,title:ue,active:!!O&&oe===O.key,data:w.data,isStart:G,isEnd:re,motion:I,motionNodes:oe===Ee?W.value:null,motionType:$.value,onMotionStart:de,onMotionEnd:R,onMousemove:v}),null)}})])}}});function $a(l){var e=l.dropPosition,o=l.dropLevelOffset,f=l.indent,y={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:y.top=0,y.left="".concat(-o*f,"px");break;case 1:y.bottom=0,y.left="".concat(-o*f,"px");break;case 0:y.bottom=0,y.left="".concat(f);break}return K("div",{style:y},null)}var Ha=10;const dt=Le({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:fa(Ta(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:$a,allowDrop:function(){return!0}}),setup:function(e,o){var f=o.attrs,y=o.slots,z=o.expose,_=ae(!1),u={},N=ae(),x=X([]),T=X([]),W=X([]),$=X([]),R=X([]),F=X([]),J={},v=In({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),S=X([]);Ne([function(){return e.treeData},function(){return e.children}],function(){S.value=e.treeData!==void 0?tn(e.treeData).slice():Ka(tn(e.children))},{immediate:!0,deep:!0});var E=X({}),M=ae(!1),I=ae(null),Y=ae(!1),Z=C(function(){return ma(e.fieldNames)}),se=ae(),V=null,O=null,le=null,ge=C(function(){return{expandedKeysSet:te.value,selectedKeysSet:pe.value,loadedKeysSet:fe.value,loadingKeysSet:de.value,checkedKeysSet:ie.value,halfCheckedKeysSet:he.value,dragOverNodeKey:v.dragOverNodeKey,dropPosition:v.dropPosition,keyEntities:E.value}}),te=C(function(){return new Set(F.value)}),pe=C(function(){return new Set(x.value)}),fe=C(function(){return new Set($.value)}),de=C(function(){return new Set(R.value)}),ie=C(function(){return new Set(T.value)}),he=C(function(){return new Set(W.value)});Te(function(){if(S.value){var d=ka(S.value,{fieldNames:Z.value});E.value=D(B({},Ee,qn),d.keyEntities)}});var w=!1;Ne([function(){return e.expandedKeys},function(){return e.autoExpandParent},E],function(d,a){var t=He(d,2);t[0];var r=t[1],b=He(a,2);b[0];var h=b[1],g=F.value;if(e.expandedKeys!==void 0||w&&r!==h)g=e.autoExpandParent||!w&&e.defaultExpandParent?pn(e.expandedKeys,E.value):e.expandedKeys;else if(!w&&e.defaultExpandAll){var s=D({},E.value);delete s[Ee],g=Object.keys(s).map(function(p){return s[p].key})}else!w&&e.defaultExpandedKeys&&(g=e.autoExpandParent||e.defaultExpandParent?pn(e.defaultExpandedKeys,E.value):e.defaultExpandedKeys);g&&(F.value=g),w=!0},{immediate:!0});var H=X([]);Te(function(){H.value=xa(S.value,F.value,Z.value)}),Te(function(){e.selectable&&(e.selectedKeys!==void 0?x.value=bn(e.selectedKeys,e):!w&&e.defaultSelectedKeys&&(x.value=bn(e.defaultSelectedKeys,e)))});var ee=Sa(E),ue=ee.maxLevel,oe=ee.levelEntities;Te(function(){if(e.checkable){var d;if(e.checkedKeys!==void 0?d=on(e.checkedKeys)||{}:!w&&e.defaultCheckedKeys?d=on(e.defaultCheckedKeys)||{}:S.value&&(d=on(e.checkedKeys)||{checkedKeys:T.value,halfCheckedKeys:W.value}),d){var a=d,t=a.checkedKeys,r=t===void 0?[]:t,b=a.halfCheckedKeys,h=b===void 0?[]:b;if(!e.checkStrictly){var g=rn(r,!0,E.value,ue.value,oe.value);r=g.checkedKeys,h=g.halfCheckedKeys}T.value=r,W.value=h}}}),Te(function(){e.loadedKeys&&($.value=e.loadedKeys)});var G=function(){De(v,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},re=function(a){se.value.scrollTo(a)};Ne(function(){return e.activeKey},function(){e.activeKey!==void 0&&(I.value=e.activeKey)},{immediate:!0}),Ne(I,function(d){jn(function(){d!==null&&re({key:d})})},{immediate:!0,flush:"post"});var be=function(a){e.expandedKeys===void 0&&(F.value=a)},Me=function(){v.draggingNodeKey!==null&&De(v,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),V=null,le=null},Pe=function(a,t){var r=e.onDragend;v.dragOverNodeKey=null,Me(),r==null||r({event:a,node:t.eventData}),O=null},Ie=function d(a){Pe(a,null),window.removeEventListener("dragend",d)},qe=function(a,t){var r=e.onDragstart,b=t.eventKey,h=t.eventData;O=t,V={x:a.clientX,y:a.clientY};var g=ke(F.value,b);v.draggingNodeKey=b,v.dragChildrenKeys=Ca(b,E.value),N.value=se.value.getIndentWidth(),be(g),window.addEventListener("dragend",Ie),r&&r({event:a,node:h})},ze=function(a,t){var r=e.onDragenter,b=e.onExpand,h=e.allowDrop,g=e.direction,s=t.pos,p=t.eventKey;if(le!==p&&(le=p),!O){G();return}var k=Kn(a,O,t,N.value,V,h,H.value,E.value,te.value,g),P=k.dropPosition,L=k.dropLevelOffset,A=k.dropTargetKey,q=k.dropContainerKey,U=k.dropTargetPos,ne=k.dropAllowed,Q=k.dragOverNodeKey;if(v.dragChildrenKeys.indexOf(A)!==-1||!ne){G();return}if(u||(u={}),Object.keys(u).forEach(function(j){clearTimeout(u[j])}),O.eventKey!==t.eventKey&&(u[s]=window.setTimeout(function(){if(v.draggingNodeKey!==null){var j=F.value.slice(),ce=E.value[t.eventKey];ce&&(ce.children||[]).length&&(j=Se(F.value,t.eventKey)),be(j),b&&b(j,{node:t.eventData,expanded:!0,nativeEvent:a})}},800)),O.eventKey===A&&L===0){G();return}De(v,{dragOverNodeKey:Q,dropPosition:P,dropLevelOffset:L,dropTargetKey:A,dropContainerKey:q,dropTargetPos:U,dropAllowed:ne}),r&&r({event:a,node:t.eventData,expandedKeys:F.value})},We=function(a,t){var r=e.onDragover,b=e.allowDrop,h=e.direction;if(O){var g=Kn(a,O,t,N.value,V,b,H.value,E.value,te.value,h),s=g.dropPosition,p=g.dropLevelOffset,k=g.dropTargetKey,P=g.dropContainerKey,L=g.dropAllowed,A=g.dropTargetPos,q=g.dragOverNodeKey;v.dragChildrenKeys.indexOf(k)!==-1||!L||(O.eventKey===k&&p===0?v.dropPosition===null&&v.dropLevelOffset===null&&v.dropTargetKey===null&&v.dropContainerKey===null&&v.dropTargetPos===null&&v.dropAllowed===!1&&v.dragOverNodeKey===null||G():s===v.dropPosition&&p===v.dropLevelOffset&&k===v.dropTargetKey&&P===v.dropContainerKey&&A===v.dropTargetPos&&L===v.dropAllowed&&q===v.dragOverNodeKey||De(v,{dropPosition:s,dropLevelOffset:p,dropTargetKey:k,dropContainerKey:P,dropTargetPos:A,dropAllowed:L,dragOverNodeKey:q}),r&&r({event:a,node:t.eventData}))}},Ge=function(a,t){le===t.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(G(),le=null);var r=e.onDragleave;r&&r({event:a,node:t.eventData})},Ue=function(a,t){var r,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=v.dragChildrenKeys,g=v.dropPosition,s=v.dropTargetKey,p=v.dropTargetPos,k=v.dropAllowed;if(k){var P=e.onDrop;if(v.dragOverNodeKey=null,Me(),s!==null){var L=D(D({},dn(s,tn(ge.value))),{},{active:((r=c.value)===null||r===void 0?void 0:r.key)===s,data:E.value[s].node});h.indexOf(s);var A=Da(p),q={event:a,node:un(L),dragNode:O?O.eventData:null,dragNodesKeys:[O.eventKey].concat(h),dropToGap:g!==0,dropPosition:g+Number(A[A.length-1])};b||P==null||P(q),O=null}}},Ye=function(a,t){var r=e.onClick;r&&r(a,t)},Xe=function(a,t){var r=e.onDblclick;r&&r(a,t)},Ae=function(a,t){var r=x.value,b=e.onSelect,h=e.multiple,g=t.selected,s=t[Z.value.key],p=!g;p?h?r=Se(r,s):r=[s]:r=ke(r,s);var k=E.value,P=r.map(function(L){var A=k[L];return A?A.node:null}).filter(function(L){return L});e.selectedKeys===void 0&&(x.value=r),b&&b(r,{event:"select",selected:p,node:t,selectedNodes:P,nativeEvent:a})},Fe=function(a,t,r){var b=e.checkStrictly,h=e.onCheck,g=t[Z.value.key],s,p={event:"check",node:t,checked:r,nativeEvent:a},k=E.value;if(b){var P=r?Se(T.value,g):ke(T.value,g),L=ke(W.value,g);s={checked:P,halfChecked:L},p.checkedNodes=P.map(function(j){return k[j]}).filter(function(j){return j}).map(function(j){return j.node}),e.checkedKeys===void 0&&(T.value=P)}else{var A=rn([].concat(ga(T.value),[g]),!0,k,ue.value,oe.value),q=A.checkedKeys,U=A.halfCheckedKeys;if(!r){var ne=new Set(q);ne.delete(g);var Q=rn(Array.from(ne),{checked:!1,halfCheckedKeys:U},k,ue.value,oe.value);q=Q.checkedKeys,U=Q.halfCheckedKeys}s=q,p.checkedNodes=[],p.checkedNodesPositions=[],p.halfCheckedKeys=U,q.forEach(function(j){var ce=k[j];if(ce){var ve=ce.node,me=ce.pos;p.checkedNodes.push(ve),p.checkedNodesPositions.push({node:ve,pos:me})}}),e.checkedKeys===void 0&&(T.value=q,W.value=U)}h&&h(s,p)},je=function(a){var t=a[Z.value.key],r=new Promise(function(b,h){var g=e.loadData,s=e.onLoad;if(!g||fe.value.has(t)||de.value.has(t))return null;var p=g(a);p.then(function(){var k=Se($.value,t),P=ke(R.value,t);s&&s(k,{event:"load",node:a}),e.loadedKeys===void 0&&($.value=k),R.value=P,b()}).catch(function(k){var P=ke(R.value,t);if(R.value=P,J[t]=(J[t]||0)+1,J[t]>=Ha){var L=Se($.value,t);e.loadedKeys===void 0&&($.value=L),b()}h(k)}),R.value=Se(R.value,t)});return r.catch(function(){}),r},Je=function(a,t){var r=e.onMouseenter;r&&r({event:a,node:t})},Ze=function(a,t){var r=e.onMouseleave;r&&r({event:a,node:t})},Qe=function(a,t){var r=e.onRightClick;r&&(a.preventDefault(),r({event:a,node:t}))},Be=function(a){var t=e.onFocus;M.value=!0,t&&t(a)},en=function(a){var t=e.onBlur;M.value=!1,Ke(null),t&&t(a)},Oe=function(a,t){var r=F.value,b=e.onExpand,h=e.loadData,g=t.expanded,s=t[Z.value.key];if(!Y.value){r.indexOf(s);var p=!g;if(p?r=Se(r,s):r=ke(r,s),be(r),b&&b(r,{node:t,expanded:p,nativeEvent:a}),p&&h){var k=je(t);k&&k.then(function(){}).catch(function(P){var L=ke(F.value,s);be(L),Promise.reject(P)})}}},Re=function(){Y.value=!0},nn=function(){setTimeout(function(){Y.value=!1})},Ke=function(a){var t=e.onActiveChange;I.value!==a&&(e.activeKey!==void 0&&(I.value=a),a!==null&&re({key:a}),t&&t(a))},c=C(function(){return I.value===null?null:H.value.find(function(d){var a=d.key;return a===I.value})||null}),n=function(a){var t=H.value.findIndex(function(h){var g=h.key;return g===I.value});t===-1&&a<0&&(t=H.value.length),t=(t+a+H.value.length)%H.value.length;var r=H.value[t];if(r){var b=r.key;Ke(b)}else Ke(null)},i=C(function(){return un(D(D({},dn(I.value,ge.value)),{},{data:c.value.data,active:!0}))}),m=function(a){var t=e.onKeydown,r=e.checkable,b=e.selectable;switch(a.which){case we.UP:{n(-1),a.preventDefault();break}case we.DOWN:{n(1),a.preventDefault();break}}var h=c.value;if(h&&h.data){var g=h.data.isLeaf===!1||!!(h.data.children||[]).length,s=i.value;switch(a.which){case we.LEFT:{g&&te.value.has(I.value)?Oe({},s):h.parent&&Ke(h.parent.key),a.preventDefault();break}case we.RIGHT:{g&&!te.value.has(I.value)?Oe({},s):h.children&&h.children.length&&Ke(h.children[0].key),a.preventDefault();break}case we.ENTER:case we.SPACE:{r&&!s.disabled&&s.checkable!==!1&&!s.disableCheckbox?Fe({},s,!ie.value.has(I.value)):!r&&b&&!s.disabled&&s.selectable!==!1&&Ae({},s);break}}}t&&t(a)};return z({onNodeExpand:Oe,scrollTo:re,onKeydown:m,selectedKeys:C(function(){return x.value}),checkedKeys:C(function(){return T.value}),halfCheckedKeys:C(function(){return W.value}),loadedKeys:C(function(){return $.value}),loadingKeys:C(function(){return R.value}),expandedKeys:C(function(){return F.value})}),ya(function(){window.removeEventListener("dragend",Ie),_.value=!0}),Ea({expandedKeys:F,selectedKeys:x,loadedKeys:$,loadingKeys:R,checkedKeys:T,halfCheckedKeys:W,expandedKeysSet:te,selectedKeysSet:pe,loadedKeysSet:fe,loadingKeysSet:de,checkedKeysSet:ie,halfCheckedKeysSet:he,flattenNodes:H}),function(){var d,a=v.draggingNodeKey,t=v.dropLevelOffset,r=v.dropContainerKey,b=v.dropTargetKey,h=v.dropPosition,g=v.dragOverNodeKey,s=e.prefixCls,p=e.showLine,k=e.focusable,P=e.tabindex,L=P===void 0?0:P,A=e.selectable,q=e.showIcon,U=e.icon,ne=U===void 0?y.icon:U,Q=e.switcherIcon,j=e.draggable,ce=e.checkable,ve=e.checkStrictly,me=e.disabled,_e=e.motion,an=e.loadData,zn=e.filterTreeNode,Wn=e.height,Gn=e.itemHeight,Un=e.virtual,Yn=e.dropIndicatorRender,Xn=e.onContextmenu,Jn=e.onScroll,Zn=e.direction,Qn=f.class,ea=f.style,na=Fn(D(D({},e),f),{aria:!0,data:!0}),$e;return j&&(ln(j)==="object"?$e=j:typeof j=="function"?$e={nodeDraggable:j}:$e={}),K(Na,{value:{prefixCls:s,selectable:A,showIcon:q,icon:ne,switcherIcon:Q,draggable:$e,draggingNodeKey:a,checkable:ce,customCheckable:y.checkable,checkStrictly:ve,disabled:me,keyEntities:E.value,dropLevelOffset:t,dropContainerKey:r,dropTargetKey:b,dropPosition:h,dragOverNodeKey:g,dragging:a!==null,indent:N.value,direction:Zn,dropIndicatorRender:Yn,loadData:an,filterTreeNode:zn,onNodeClick:Ye,onNodeDoubleClick:Xe,onNodeExpand:Oe,onNodeSelect:Ae,onNodeCheck:Fe,onNodeLoad:je,onNodeMouseEnter:Je,onNodeMouseLeave:Ze,onNodeContextMenu:Qe,onNodeDragStart:qe,onNodeDragEnter:ze,onNodeDragOver:We,onNodeDragLeave:Ge,onNodeDragEnd:Pe,onNodeDrop:Ue,slots:y}},{default:function(){return[K("div",{role:"tree",class:xe(s,Qn,(d={},B(d,"".concat(s,"-show-line"),p),B(d,"".concat(s,"-focused"),M.value),B(d,"".concat(s,"-active-focused"),I.value!==null),d))},[K(_a,D({ref:se,prefixCls:s,style:ea,disabled:me,selectable:A,checkable:!!ce,motion:_e,height:Wn,itemHeight:Gn,virtual:Un,focusable:k,focused:M.value,tabindex:L,activeItem:c.value,onFocus:Be,onBlur:en,onKeydown:m,onActiveChange:Ke,onListChangeStart:Re,onListChangeEnd:nn,onContextmenu:Xn,onScroll:Jn},na),null)])]}})}}});var Va={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const qa=Va;function On(l){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?Object(arguments[e]):{},f=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(o).filter(function(y){return Object.getOwnPropertyDescriptor(o,y).enumerable}))),f.forEach(function(y){za(l,y,o[y])})}return l}function za(l,e,o){return e in l?Object.defineProperty(l,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[e]=o,l}var fn=function(e,o){var f=On({},e,o.attrs);return K(Ve,On({},f,{icon:qa}),null)};fn.displayName="FileOutlined";fn.inheritAttrs=!1;const Wa=fn;var Ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Ua=Ga;function wn(l){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?Object(arguments[e]):{},f=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(o).filter(function(y){return Object.getOwnPropertyDescriptor(o,y).enumerable}))),f.forEach(function(y){Ya(l,y,o[y])})}return l}function Ya(l,e,o){return e in l?Object.defineProperty(l,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[e]=o,l}var yn=function(e,o){var f=wn({},e,o.attrs);return K(Ve,wn({},f,{icon:Ua}),null)};yn.displayName="MinusSquareOutlined";yn.inheritAttrs=!1;const Xa=yn;var Ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Za=Ja;function Pn(l){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?Object(arguments[e]):{},f=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(o).filter(function(y){return Object.getOwnPropertyDescriptor(o,y).enumerable}))),f.forEach(function(y){Qa(l,y,o[y])})}return l}function Qa(l,e,o){return e in l?Object.defineProperty(l,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[e]=o,l}var gn=function(e,o){var f=Pn({},e,o.attrs);return K(Ve,Pn({},f,{icon:Za}),null)};gn.displayName="PlusSquareOutlined";gn.inheritAttrs=!1;const et=gn;var nt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const at=nt;function Tn(l){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?Object(arguments[e]):{},f=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(o).filter(function(y){return Object.getOwnPropertyDescriptor(o,y).enumerable}))),f.forEach(function(y){tt(l,y,o[y])})}return l}function tt(l,e,o){return e in l?Object.defineProperty(l,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):l[e]=o,l}var hn=function(e,o){var f=Tn({},e,o.attrs);return K(Ve,Tn({},f,{icon:at}),null)};hn.displayName="CaretDownFilled";hn.inheritAttrs=!1;const ot=hn;function ut(l,e,o,f){var y=f.isLeaf,z=f.expanded,_=f.loading,u=e;if(_)return K(ha,{class:"".concat(l,"-switcher-loading-icon")},null);var N;o&&ln(o)==="object"&&(N=o.showLeafIcon);var x=null,T="".concat(l,"-switcher-icon");return y?(o&&(ln(o)==="object"&&!N?x=K("span",{class:"".concat(l,"-switcher-leaf-line")},null):x=K(Wa,{class:"".concat(l,"-switcher-line-icon")},null)),x):(x=K(ot,{class:T},null),o&&(x=z?K(Xa,{class:"".concat(l,"-switcher-line-icon")},null):K(et,{class:"".concat(l,"-switcher-line-icon")},null)),typeof e=="function"?u=e(D(D({},f),{},{defaultIcon:x,switcherCls:T})):pa(u)&&(u=ba(u,{class:T})),u||x)}export{Wa as F,dt as T,xn as V,ut as r,Ta as t};
