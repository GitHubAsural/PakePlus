import{cU as we,cV as De,I as p,n as pe,r as D,O as Ce,cW as Te,H as R,b as y,J as N,cl as qe,bp as Ne,b1 as He,q as ue,D as Ue,E as J,bk as Me,K as le,a_ as ze,B as Oe,z as Ge,M as Ke,b2 as We,bq as je,P as ve}from"./index-08ed677d.js";import{U as Le}from"./UpOutlined-cabff1d9.js";function me(){return typeof BigInt=="function"}function Y(a){var e=a.trim(),t=e.startsWith("-");t&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var l=e||"0",c=l.split("."),s=c[0]||"0",g=c[1]||"0";s==="0"&&g==="0"&&(t=!1);var v=t?"-":"";return{negative:t,negativeStr:v,trimStr:l,integerStr:s,decimalStr:g,fullStr:"".concat(v).concat(l)}}function be(a){var e=String(a);return!Number.isNaN(Number(e))&&e.includes("e")}function Q(a){var e=String(a);if(be(a)){var t=Number(e.slice(e.indexOf("e-")+2)),l=e.match(/\.(\d+)/);return l!=null&&l[1]&&(t+=l[1].length),t}return e.includes(".")&&Se(e)?e.length-e.indexOf(".")-1:0}function he(a){var e=String(a);if(be(a)){if(a>Number.MAX_SAFE_INTEGER)return String(me()?BigInt(a).toString():Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return String(me()?BigInt(a).toString():Number.MIN_SAFE_INTEGER);e=a.toFixed(Q(e))}return Y(e).fullStr}function Se(a){return typeof a=="number"?!Number.isNaN(a):a?/^\s*-?\d+(\.\d+)?\s*$/.test(a)||/^\s*-?\d+\.\s*$/.test(a)||/^\s*-?\.\d+\s*$/.test(a):!1}function Be(a){return!a&&a!==0&&!Number.isNaN(a)||!String(a).trim()}var Xe=function(){function a(e){if(De(this,a),p(this,"origin",""),Be(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return we(a,[{key:"negate",value:function(){return new a(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new a(t);var l=Number(t);if(Number.isNaN(l))return this;var c=this.number+l;if(c>Number.MAX_SAFE_INTEGER)return new a(Number.MAX_SAFE_INTEGER);if(c<Number.MIN_SAFE_INTEGER)return new a(Number.MIN_SAFE_INTEGER);var s=Math.max(Q(this.number),Q(l));return new a(c.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(t==null?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":he(this.number):this.origin}}]),a}(),Je=function(){function a(e){if(De(this,a),p(this,"origin",""),Be(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var t=e;if(be(t)&&(t=Number(t)),t=typeof t=="string"?t:he(t),Se(t)){var l=Y(t);this.negative=l.negative;var c=l.trimStr.split(".");this.integer=BigInt(c[0]);var s=c[1]||"0";this.decimal=BigInt(s),this.decimalLen=s.length}else this.nan=!0}return we(a,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var l="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(l)}},{key:"negate",value:function(){var t=new a(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new a(t);var l=new a(t);if(l.isInvalidate())return this;var c=Math.max(this.getDecimalStr().length,l.getDecimalStr().length),s=this.alignDecimal(c),g=l.alignDecimal(c),v=(s+g).toString(),d=Y(v),f=d.negativeStr,m=d.trimStr,i="".concat(f).concat(m.padStart(c+1,"0"));return new a("".concat(i.slice(0,-c),".").concat(i.slice(-c)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(t==null?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t?this.isInvalidate()?"":Y("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),a}();function k(a){return me()?new Je(a):new Xe(a)}function ge(a,e,t){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(a==="")return"";var c=Y(a),s=c.negativeStr,g=c.integerStr,v=c.decimalStr,d="".concat(e).concat(v),f="".concat(s).concat(g);if(t>=0){var m=Number(v[t]);if(m>=5&&!l){var i=k(a).add("".concat(s,"0.").concat("0".repeat(t)).concat(10-m));return ge(i.toString(),e,t,l)}return t===0?f:"".concat(f).concat(e).concat(v.padEnd(t,"0").slice(0,t))}return d===".0"?f:"".concat(f).concat(d)}var Ye=200,Qe=600;const Ze=pe({compatConfig:{MODE:3},name:"StepHandler",inheritAttrs:!1,props:{prefixCls:String,upDisabled:Boolean,downDisabled:Boolean,onStep:{type:Function}},slots:["upNode","downNode"],setup:function(e,t){var l=t.slots,c=t.emit,s=D(),g=function(f,m){f.preventDefault(),c("step",m);function i(){c("step",m),s.value=setTimeout(i,Ye)}s.value=setTimeout(i,Qe)},v=function(){clearTimeout(s.value)};return Ce(function(){v()}),function(){if(Te())return null;var d=e.prefixCls,f=e.upDisabled,m=e.downDisabled,i="".concat(d,"-handler"),V=R(i,"".concat(i,"-up"),p({},"".concat(i,"-up-disabled"),f)),_=R(i,"".concat(i,"-down"),p({},"".concat(i,"-down-disabled"),m)),C={unselectable:"on",role:"button",onMouseup:v,onMouseleave:v},E=l.upNode,A=l.downNode;return y("div",{class:"".concat(i,"-wrap")},[y("span",N(N({},C),{},{onMousedown:function(M){g(M,!0)},"aria-label":"Increase Value","aria-disabled":f,class:V}),[(E==null?void 0:E())||y("span",{unselectable:"on",class:"".concat(d,"-handler-up-inner")},null)]),y("span",N(N({},C),{},{onMousedown:function(M){g(M,!1)},"aria-label":"Decrease Value","aria-disabled":m,class:_}),[(A==null?void 0:A())||y("span",{unselectable:"on",class:"".concat(d,"-handler-down-inner")},null)])])}}});function et(a,e){var t=D(null);function l(){try{var s=a.value,g=s.selectionStart,v=s.selectionEnd,d=s.value,f=d.substring(0,g),m=d.substring(v);t.value={start:g,end:v,value:d,beforeTxt:f,afterTxt:m}}catch(i){}}function c(){if(a.value&&t.value&&e.value)try{var s=a.value.value,g=t.value,v=g.beforeTxt,d=g.afterTxt,f=g.start,m=s.length;if(s.endsWith(d))m=s.length-t.value.afterTxt.length;else if(s.startsWith(v))m=v.length;else{var i=v[f-1],V=s.indexOf(i,f-1);V!==-1&&(m=V+1)}a.value.setSelectionRange(m,m)}catch(_){qe(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(_.message))}}return[l,c]}const tt=function(){var a=D(0),e=function(){Ne.cancel(a.value)};return Ce(function(){e()}),function(t){e(),a.value=Ne(function(){t()})}};var nt=["prefixCls","min","max","step","defaultValue","value","disabled","readonly","keyboard","controls","autofocus","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","lazy","class","style"],Ie=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},Ee=function(e){var t=k(e);return t.isInvalidate()?null:t},Ve=function(){return{stringMode:{type:Boolean},defaultValue:{type:[String,Number]},value:{type:[String,Number]},prefixCls:{type:String},min:{type:[String,Number]},max:{type:[String,Number]},step:{type:[String,Number],default:1},tabindex:{type:Number},controls:{type:Boolean,default:!0},readonly:{type:Boolean},disabled:{type:Boolean},autofocus:{type:Boolean},keyboard:{type:Boolean,default:!0},parser:{type:Function},formatter:{type:Function},precision:{type:Number},decimalSeparator:{type:String},onInput:{type:Function},onChange:{type:Function},onPressEnter:{type:Function},onStep:{type:Function},onBlur:{type:Function},onFocus:{type:Function}}};const at=pe({compatConfig:{MODE:3},name:"InnerInputNumber",inheritAttrs:!1,props:N(N({},Ve()),{},{lazy:Boolean}),slots:["upHandler","downHandler"],setup:function(e,t){var l=t.attrs,c=t.slots,s=t.emit,g=t.expose,v=D(),d=D(!1),f=D(!1),m=D(!1),i=D(k(e.value));function V(u){e.value===void 0&&(i.value=u)}var _=function(n,o){if(!o)return e.precision>=0?e.precision:Math.max(Q(n),Q(e.step))},C=function(n){var o=String(n);if(e.parser)return e.parser(o);var r=o;return e.decimalSeparator&&(r=r.replace(e.decimalSeparator,".")),r.replace(/[^\w.-]+/g,"")},E=D(""),A=function(n,o){if(e.formatter)return e.formatter(n,{userTyping:o,input:String(E.value)});var r=typeof n=="number"?he(n):n;if(!o){var I=_(r,o);if(Se(r)&&(e.decimalSeparator||I>=0)){var S=e.decimalSeparator||".";r=ge(r,S,I)}}return r},G=function(){var u=e.value;return i.value.isInvalidate()&&["string","number"].includes(He(u))?Number.isNaN(u)?"":u:A(i.value.toString(),!1)}();E.value=G;function M(u,n){E.value=A(u.isInvalidate()?u.toString(!1):u.toString(!n),n)}var P=ue(function(){return Ee(e.max)}),x=ue(function(){return Ee(e.min)}),h=ue(function(){return!P.value||!i.value||i.value.isInvalidate()?!1:P.value.lessEquals(i.value)}),T=ue(function(){return!x.value||!i.value||i.value.isInvalidate()?!1:i.value.lessEquals(x.value)}),F=et(v,d),w=Ue(F,2),q=w[0],Z=w[1],H=function(n){return P.value&&!n.lessEquals(P.value)?P.value:x.value&&!x.value.lessEquals(n)?x.value:null},U=function(n){return!H(n)},z=function(n,o){var r=n,I=U(r)||r.isEmpty();if(!r.isEmpty()&&!o&&(r=H(r)||r,I=!0),!e.readonly&&!e.disabled&&I){var S=r.toString(),B=_(S,o);if(B>=0&&(r=k(ge(S,".",B))),!r.equals(i.value)){var $;V(r),($=e.onChange)===null||$===void 0||$.call(e,r.isEmpty()?null:Ie(e.stringMode,r)),e.value===void 0&&M(r,o)}return r}return i.value},K=tt(),W=function u(n){var o;if(q(),E.value=n,!m.value){var r=C(n),I=k(r);I.isNaN()||z(I,!0)}(o=e.onInput)===null||o===void 0||o.call(e,n),K(function(){var S=n;e.parser||(S=n.replace(/。/g,".")),S!==n&&u(S)})},j=function(){m.value=!0},ee=function(){m.value=!1,W(v.value.value)},L=function(n){W(n.target.value)},X=function(n){var o,r;if(!(n&&h.value||!n&&T.value)){f.value=!1;var I=k(e.step);n||(I=I.negate());var S=(i.value||k(0)).add(I.toString()),B=z(S,!1);(o=e.onStep)===null||o===void 0||o.call(e,Ie(e.stringMode,B),{offset:e.step,type:n?"up":"down"}),(r=v.value)===null||r===void 0||r.focus()}},te=function(n){var o=k(C(E.value)),r=o;o.isNaN()?r=i.value:r=z(o,n),e.value!==void 0?M(i.value,!1):r.isNaN()||M(r,!1)},oe=function(n){var o=n.which;if(f.value=!0,o===le.ENTER){var r;m.value||(f.value=!1),te(!1),(r=e.onPressEnter)===null||r===void 0||r.call(e,n)}e.keyboard!==!1&&!m.value&&[le.UP,le.DOWN].includes(o)&&(X(le.UP===o),n.preventDefault())},b=function(){f.value=!1},O=function(n){te(!1),d.value=!1,f.value=!1,s("blur",n)};return J(function(){return e.precision},function(){i.value.isInvalidate()||M(i.value,!1)},{flush:"post"}),J(function(){return e.value},function(){var u=k(e.value);i.value=u;var n=k(C(E.value));(!u.equals(n)||!f.value||e.formatter)&&M(u,f.value)},{flush:"post"}),J(E,function(){e.formatter&&Z()},{flush:"post"}),J(function(){return e.disabled},function(u){u&&(d.value=!1)}),g({focus:function(){var n;(n=v.value)===null||n===void 0||n.focus()},blur:function(){var n;(n=v.value)===null||n===void 0||n.blur()}}),function(){var u,n=N(N({},l),e),o=n.prefixCls,r=o===void 0?"rc-input-number":o,I=n.min,S=n.max,B=n.step,$=B===void 0?1:B;n.defaultValue,n.value;var ne=n.disabled,ae=n.readonly;n.keyboard;var re=n.controls,se=re===void 0?!0:re,ie=n.autofocus;n.stringMode,n.parser,n.formatter,n.precision,n.decimalSeparator,n.onChange,n.onInput,n.onPressEnter,n.onStep;var _e=n.lazy,ke=n.class,Fe=n.style,Ae=Me(n,nt),$e=c.upHandler,Pe=c.downHandler,ye="".concat(r,"-input"),ce={};return _e?ce.onChange=L:ce.onInput=L,y("div",{class:R(r,ke,(u={},p(u,"".concat(r,"-focused"),d.value),p(u,"".concat(r,"-disabled"),ne),p(u,"".concat(r,"-readonly"),ae),p(u,"".concat(r,"-not-a-number"),i.value.isNaN()),p(u,"".concat(r,"-out-of-range"),!i.value.isInvalidate()&&!U(i.value)),u)),style:Fe,onKeydown:oe,onKeyup:b},[se&&y(Ze,{prefixCls:r,upDisabled:h.value,downDisabled:T.value,onStep:X},{upNode:$e,downNode:Pe}),y("div",{class:"".concat(ye,"-wrap")},[y("input",N(N(N({autofocus:ie,autocomplete:"off",role:"spinbutton","aria-valuemin":I,"aria-valuemax":S,"aria-valuenow":i.value.isInvalidate()?null:i.value.toString(),step:$},Ae),{},{ref:v,class:ye,value:E.value,disabled:ne,readonly:ae,onFocus:function(Re){d.value=!0,s("focus",Re)}},ce),{},{onBlur:O,onCompositionstart:j,onCompositionend:ee}),null)])])}}});function de(a){return a!=null}var rt=["class","bordered","readonly","style","addonBefore","addonAfter","prefix","valueModifiers"],xe=Ve(),it=function(){return N(N({},xe),{},{size:{type:String},bordered:{type:Boolean,default:!0},placeholder:String,name:String,id:String,type:String,addonBefore:ve.any,addonAfter:ve.any,prefix:ve.any,"onUpdate:value":xe.onChange,valueModifiers:Object})},fe=pe({compatConfig:{MODE:3},name:"AInputNumber",inheritAttrs:!1,props:it(),slots:["addonBefore","addonAfter","prefix"],setup:function(e,t){var l=t.emit,c=t.expose,s=t.attrs,g=t.slots,v=Oe(),d=Ge("input-number",e),f=d.prefixCls,m=d.size,i=d.direction,V=D(e.value===void 0?e.defaultValue:e.value),_=D(!1);J(function(){return e.value},function(){V.value=e.value});var C=D(null),E=function(){var h;(h=C.value)===null||h===void 0||h.focus()},A=function(){var h;(h=C.value)===null||h===void 0||h.blur()};c({focus:E,blur:A});var G=function(h){e.value===void 0&&(V.value=h),l("update:value",h),l("change",h),v.onFieldChange()},M=function(h){_.value=!1,l("blur",h),v.onFieldBlur()},P=function(h){_.value=!0,l("focus",h)};return function(){var x,h,T,F,w=N(N({},s),e),q=w.class,Z=w.bordered,H=w.readonly,U=w.style,z=w.addonBefore,K=z===void 0?(x=g.addonBefore)===null||x===void 0?void 0:x.call(g):z,W=w.addonAfter,j=W===void 0?(h=g.addonAfter)===null||h===void 0?void 0:h.call(g):W,ee=w.prefix,L=ee===void 0?(T=g.prefix)===null||T===void 0?void 0:T.call(g):ee,X=w.valueModifiers,te=X===void 0?{}:X,oe=Me(w,rt),b=f.value,O=m.value,u=R((F={},p(F,"".concat(b,"-lg"),O==="large"),p(F,"".concat(b,"-sm"),O==="small"),p(F,"".concat(b,"-rtl"),i.value==="rtl"),p(F,"".concat(b,"-readonly"),H),p(F,"".concat(b,"-borderless"),!Z),F),q),n=y(at,N(N({},We(oe,["size","defaultValue"])),{},{ref:C,lazy:!!te.lazy,value:V.value,class:u,prefixCls:b,readonly:H,onChange:G,onBlur:M,onFocus:P}),{upHandler:function(){return y(Le,{class:"".concat(b,"-handler-up-inner")},null)},downHandler:function(){return y(Ke,{class:"".concat(b,"-handler-down-inner")},null)}}),o=de(K)||de(j);if(de(L)){var r,I=R("".concat(b,"-affix-wrapper"),(r={},p(r,"".concat(b,"-affix-wrapper-focused"),_.value),p(r,"".concat(b,"-affix-wrapper-disabled"),e.disabled),p(r,"".concat(b,"-affix-wrapper-rtl"),i.value==="rtl"),p(r,"".concat(b,"-affix-wrapper-readonly"),H),p(r,"".concat(b,"-affix-wrapper-borderless"),!Z),p(r,"".concat(q),!o&&q),r));n=y("div",{class:I,style:U,onMouseup:function(){return C.value.focus()}},[y("span",{class:"".concat(b,"-prefix")},[L]),n])}if(o){var S,B="".concat(b,"-group"),$="".concat(B,"-addon"),ne=K?y("div",{class:$},[K]):null,ae=j?y("div",{class:$},[j]):null,re=R("".concat(b,"-wrapper"),B,p({},"".concat(B,"-rtl"),i.value==="rtl")),se=R("".concat(b,"-group-wrapper"),(S={},p(S,"".concat(b,"-group-wrapper-sm"),O==="small"),p(S,"".concat(b,"-group-wrapper-lg"),O==="large"),p(S,"".concat(b,"-group-wrapper-rtl"),i.value==="rtl"),S),q);n=y("div",{class:se,style:U},[y("div",{class:re},[ne,n,ae])])}return je(n,{style:U})}}});const st=ze(fe,{install:function(e){return e.component(fe.name,fe),e}});export{st as _};
