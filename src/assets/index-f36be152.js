import{r as m,o as c,j as I,b as a,w as s,e as E,aF as B,t as N,c as x,d as _,an as $,m as u,ar as A,g as J,h as T,_ as j,cY as z,$ as L,a0 as M,q as F,E as O,u as W,ag as Y,cu as G,R as H,ak as K,al as P,p as Q,i as X}from"./index-08ed677d.js";import{C as Z}from"./index-7b650976.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./index-5362a68f.js";import{i as D}from"./index-c83262a0.js";import{_ as V}from"./index-47899940.js";import"./vuedraggable.umd-a1c90dfc.js";import"./index-9d5a19c2.js";import"./Group-db28a0f9.js";import"./createForOfIteratorHelper-a50550d1.js";import"./index-ffe2e608.js";import"./css-aae66f86.js";import"./useMaxLevel-5fff0ff6.js";import"./index-5353e7c4.js";import"./RadioButton-b1164875.js";import"./CaretDownOutlined-5ddc51ec.js";import"./CaretUpOutlined-d8859d1d.js";import"./iconUtil-c5959902.js";async function ee(p){return{count:10,list:[{id:21,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:0},{id:22,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:0},{id:23,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:24,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:25,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:26,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:27,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:28,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:29,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1},{id:30,title:"EleAdmin新版本发布，欢迎体验",time:"2020-07-24 11:35",status:1}]}}async function te(p){return{count:10,list:[{id:11,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:0},{id:12,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:0},{id:13,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:0},{id:14,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1},{id:15,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1},{id:16,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1},{id:17,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1},{id:18,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1},{id:19,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1},{id:20,title:"Jasmine给你发来了一条私信",time:"2020-07-24 11:35",status:1}]}}async function ne(p){return{count:10,list:[{id:1,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:0},{id:2,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:0},{id:3,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:0},{id:4,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:0},{id:5,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:1},{id:6,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:1},{id:7,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:1},{id:8,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:1},{id:9,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:1},{id:10,title:"你有两条任务待完成，不要忘了哦~",time:"2020-07-24 11:35",status:1}]}}async function se(){return{notice:2,letter:3,todo:4}}const ae=["onClick"],oe=_("a",{class:"ele-text-danger"},"删除",-1),ie={__name:"message-notice",emits:["update-data"],setup(p,{emit:f}){const y=m(null),b=m([{key:"index",width:48,align:"center",fixed:"left",hideInSetting:!0,customRender:({index:e})=>{var t,n;return e+((n=(t=y.value)==null?void 0:t.tableIndex)!=null?n:0)}},{title:"通知标题",dataIndex:"title",ellipsis:!0},{title:"通知时间",dataIndex:"time",ellipsis:!0,width:140,align:"center"},{title:"状态",key:"status",width:90,align:"center"},{title:"操作",key:"action",width:120,align:"center",hideInSetting:!0}]),o=m([]),v=({page:e,limit:t,where:n,orders:l})=>ee({...n,...l,page:e,limit:t}),h=e=>{console.log(e),u.info("点击了确认")},k=e=>{console.log(e),u.info("点击了删除"),i()},C=()=>{if(!o.value.length){u.error("请至少选择一条数据");return}u.info("点击了删除"),i()},g=()=>{if(!o.value.length){u.error("请至少选择一条数据");return}o.value.forEach(e=>{e.status=1}),i()},i=()=>{f("update-data")};return(e,t)=>{const n=A,l=J,w=T,R=V,S=D;return c(),I("div",null,[a(S,{ref_key:"tableRef",ref:y,"row-key":"id",columns:b.value,datasource:v,selection:o.value,"onUpdate:selection":t[0]||(t[0]=r=>o.value=r),scroll:{x:600}},{toolbar:s(()=>[a(l,null,{default:s(()=>[a(n,{type:"primary",class:"ele-btn-icon",onClick:g},{default:s(()=>[E(" 批量确认 ")]),_:1}),a(n,{danger:"",type:"primary",class:"ele-btn-icon",onClick:C},{default:s(()=>[E(" 删除通知 ")]),_:1})]),_:1})]),bodyCell:s(({column:r,record:d})=>[r.key==="status"?(c(),I("span",{key:0,class:B(["ele-text-warning","ele-text-info"][d.status])},N(["未确认","已确认"][d.status]),3)):r.key==="action"?(c(),x(l,{key:1},{default:s(()=>[_("a",{onClick:U=>h(d)},"确认",8,ae),a(w,{type:"vertical"}),a(R,{placement:"topRight",title:"确定要删除此通知吗",onConfirm:U=>k(d)},{default:s(()=>[oe]),_:2},1032,["onConfirm"])]),_:2},1024)):$("",!0)]),_:1},8,["columns","selection"])])}}},le=["onClick"],ce=_("a",{class:"ele-text-danger"},"删除",-1),ue={__name:"message-letter",emits:["update-data"],setup(p,{emit:f}){const y=m(null),b=m([{key:"index",width:48,align:"center",fixed:"left",hideInSetting:!0,customRender:({index:e})=>{var t,n;return e+((n=(t=y.value)==null?void 0:t.tableIndex)!=null?n:0)}},{title:"私信内容",dataIndex:"title",ellipsis:!0},{title:"发送时间",dataIndex:"time",ellipsis:!0,width:140,align:"center"},{title:"状态",key:"status",width:90,align:"center"},{title:"操作",key:"action",width:120,align:"center",hideInSetting:!0}]),o=m([]),v=({page:e,limit:t,where:n,orders:l})=>te({...n,...l,page:e,limit:t}),h=e=>{console.log(e),u.info("点击了回复")},k=e=>{console.log(e),u.info("点击了删除"),i()},C=()=>{if(!o.value.length){u.error("请至少选择一条数据");return}u.info("点击了删除"),i()},g=()=>{if(!o.value.length){u.error("请至少选择一条数据");return}o.value.forEach(e=>{e.status=1}),i()},i=()=>{f("update-data")};return(e,t)=>{const n=A,l=J,w=T,R=V,S=D;return c(),I("div",null,[a(S,{ref_key:"tableRef",ref:y,"row-key":"id",columns:b.value,datasource:v,selection:o.value,"onUpdate:selection":t[0]||(t[0]=r=>o.value=r),scroll:{x:600}},{toolbar:s(()=>[a(l,null,{default:s(()=>[a(n,{type:"primary",class:"ele-btn-icon",onClick:g},{default:s(()=>[E(" 标记已读 ")]),_:1}),a(n,{danger:"",type:"primary",class:"ele-btn-icon",onClick:C},{default:s(()=>[E(" 删除消息 ")]),_:1})]),_:1})]),bodyCell:s(({column:r,record:d})=>[r.key==="status"?(c(),I("span",{key:0,class:B(["ele-text-warning","ele-text-info"][d.status])},N(["未读","已读"][d.status]),3)):r.key==="action"?(c(),x(l,{key:1},{default:s(()=>[_("a",{onClick:U=>h(d)},"回复",8,le),a(w,{type:"vertical"}),a(R,{placement:"topRight",title:"确定要删除此消息吗？",onConfirm:U=>k(d)},{default:s(()=>[ce]),_:2},1032,["onConfirm"])]),_:2},1024)):$("",!0)]),_:1},8,["columns","selection"])])}}},re=["onClick"],de=_("a",{class:"ele-text-danger"},"删除",-1),me={__name:"message-todo",emits:["update-data"],setup(p,{emit:f}){const y=m(null),b=m([{key:"index",width:48,align:"center",fixed:"left",hideInSetting:!0,customRender:({index:e})=>{var t,n;return e+((n=(t=y.value)==null?void 0:t.tableIndex)!=null?n:0)}},{title:"待办内容",dataIndex:"title",ellipsis:!0},{title:"结束时间",dataIndex:"time",ellipsis:!0,width:140,align:"center"},{title:"状态",key:"status",width:90,align:"center"},{title:"操作",key:"action",width:120,align:"center",hideInSetting:!0}]),o=m([]),v=({page:e,limit:t,where:n,orders:l})=>ne({...n,...l,page:e,limit:t}),h=e=>{console.log(e),u.info("点击了完成")},k=e=>{console.log(e),u.info("点击了删除"),i()},C=()=>{if(!o.value.length){u.error("请至少选择一条数据");return}u.info("点击了删除"),i()},g=()=>{if(!o.value.length){u.error("请至少选择一条数据");return}o.value.forEach(e=>{e.status=1}),i()},i=()=>{f("update-data")};return(e,t)=>{const n=A,l=J,w=T,R=V,S=D;return c(),I("div",null,[a(S,{ref_key:"tableRef",ref:y,"row-key":"id",columns:b.value,datasource:v,selection:o.value,"onUpdate:selection":t[0]||(t[0]=r=>o.value=r),scroll:{x:600}},{toolbar:s(()=>[a(l,null,{default:s(()=>[a(n,{type:"primary",class:"ele-btn-icon",onClick:g},{default:s(()=>[E(" 批量完成 ")]),_:1}),a(n,{danger:"",type:"primary",class:"ele-btn-icon",onClick:C},{default:s(()=>[E(" 删除待办 ")]),_:1})]),_:1})]),bodyCell:s(({column:r,record:d})=>[r.key==="status"?(c(),I("span",{key:0,class:B(["ele-text-warning","ele-text-info"][d.status])},N(["未完成","已完成"][d.status]),3)):r.key==="action"?(c(),x(l,{key:1},{default:s(()=>[_("a",{onClick:U=>h(d)},"完成",8,re),a(w,{type:"vertical"}),a(R,{placement:"topRight",title:"确定要删除此消息吗？",onConfirm:U=>k(d)},{default:s(()=>[de]),_:2},1032,["onConfirm"])]),_:2},1024)):$("",!0)]),_:1},8,["columns","selection"])])}}};const q=p=>(Q("data-v-1f7f011a"),p=p(),X(),p),_e={class:"ele-body"},pe={class:"ele-cell ele-cell-align-top ele-user-message"},fe={class:"message-menu-wrap"},ye=q(()=>_("span",null,"系统通知",-1)),ge=q(()=>_("span",null,"用户私信",-1)),ve=q(()=>_("span",null,"代办事项",-1)),he={class:"ele-cell-content",style:{"overflow-x":"hidden"}},ke={name:"UserMessage"},xe=Object.assign(ke,{setup(p){const{currentRoute:f}=z(),y=L(),{screenWidth:b}=M(y),o=m([]),v=m(0),h=m(0),k=m(0),C=F(()=>b.value<768?"horizontal":"inline");O(f,i=>{const{path:e,query:t}=W(i);if(e==="/user/message"){const n="notice";t.type?typeof t.type=="string"?o.value=[t.type||n]:t.type.length&&t.type[0]?o.value=[t.type[0]]:o.value=[n]:o.value=[n]}},{immediate:!0});const g=()=>{se().then(i=>{v.value=i.notice,h.value=i.letter,k.value=i.todo}).catch(i=>{u.error(i.message)})};return g(),(i,e)=>{const t=H,n=Y("router-link"),l=K,w=P,R=Z;return c(),I("div",_e,[a(R,{bordered:!1,"body-style":{padding:"0px"}},{default:s(()=>[_("div",pe,[_("div",fe,[a(w,{"selected-keys":o.value,mode:C.value},{default:s(()=>[a(l,{key:"notice"},{default:s(()=>[a(n,{to:"/user/message?type=notice"},{default:s(()=>[v.value?(c(),x(t,{key:0,count:v.value},null,8,["count"])):$("",!0),ye]),_:1})]),_:1}),a(l,{key:"letter"},{default:s(()=>[a(n,{to:"/user/message?type=letter"},{default:s(()=>[h.value?(c(),x(t,{key:0,count:h.value},null,8,["count"])):$("",!0),ge]),_:1})]),_:1}),a(l,{key:"todo"},{default:s(()=>[a(n,{to:"/user/message?type=todo"},{default:s(()=>[k.value?(c(),x(t,{key:0,count:k.value},null,8,["count"])):$("",!0),ve]),_:1})]),_:1})]),_:1},8,["selected-keys","mode"])]),_("div",he,[a(G,{name:"slide-right",mode:"out-in"},{default:s(()=>[o.value.includes("notice")?(c(),x(ie,{key:0,onUpdateData:g})):o.value.includes("letter")?(c(),x(ue,{key:1,onUpdateData:g})):(c(),x(me,{key:2,onUpdateData:g}))]),_:1})])])]),_:1})])}}}),Fe=j(xe,[["__scopeId","data-v-1f7f011a"]]);export{Fe as default};
