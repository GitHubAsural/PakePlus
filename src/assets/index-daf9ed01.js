import{cY as k,aG as v,r as T,E as w,u as t,o as d,j as f,b as o,w as a,d as l,t as r,F as B,k as F,c as p,e as C,an as D,N as R,de as V,m as E,aw as I,ao as S,R as U,az as j}from"./index-08ed677d.js";import{C as q}from"./index-7b650976.js";import{g as O}from"./index-aea5eae0.js";const P={class:"ele-body"},z={class:"ele-text-secondary"},A={class:"ele-text-secondary"},G={class:"ele-text-secondary"},H={class:"ele-text-secondary"},L={class:"ele-text-secondary"},Y={name:"SystemUserDetails"},W=Object.assign(Y,{setup(J){const m="/system/user/details",{currentRoute:u}=k(),{form:s,assignFields:b}=v({userId:void 0,username:"",nickname:"",sexName:"",phone:"",roles:[],createTime:void 0,status:void 0}),_=T(!0),g=()=>{const{query:c}=t(u),n=c.id;!n||s.userId===Number(n)||(_.value=!0,O(Number(n)).then(e=>{_.value=!1,b({...e,createTime:R(e.createTime)}),t(u).path===m&&V(e.nickname+"的信息")}).catch(e=>{_.value=!1,E.error(e.message)}))};return w(u,c=>{const{path:n}=t(c);n===m&&g()},{immediate:!0}),(c,n)=>{const e=I,h=S,x=U,y=j,N=q;return d(),f("div",P,[o(N,{title:"基本信息",bordered:!1},{default:a(()=>[o(y,{class:"ele-form-detail","label-col":{md:2,sm:4,xs:6},"wrapper-col":{md:22,sm:20,xs:18}},{default:a(()=>[o(e,{label:"账号"},{default:a(()=>[l("div",z,r(t(s).username),1)]),_:1}),o(e,{label:"用户名"},{default:a(()=>[l("div",A,r(t(s).nickname),1)]),_:1}),o(e,{label:"性别"},{default:a(()=>[l("div",G,r(t(s).sexName),1)]),_:1}),o(e,{label:"手机号"},{default:a(()=>[l("div",H,r(t(s).phone),1)]),_:1}),o(e,{label:"角色"},{default:a(()=>[(d(!0),f(B,null,F(t(s).roles,i=>(d(),p(h,{key:i.roleId,color:"blue"},{default:a(()=>[C(r(i.roleName),1)]),_:2},1024))),128))]),_:1}),o(e,{label:"创建时间"},{default:a(()=>[l("div",L,r(t(s).createTime),1)]),_:1}),o(e,{label:"状态"},{default:a(()=>[typeof t(s).status=="number"?(d(),p(x,{key:0,status:["processing","error"][t(s).status],text:["正常","冻结"][t(s).status]},null,8,["status","text"])):D("",!0)]),_:1})]),_:1})]),_:1})])}}});export{W as default};
